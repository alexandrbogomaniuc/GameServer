var gameopened=!1,spdepci=!1,isClosed=!1,logoutInProgress=!1,unlockgameopened=!1;initLS("game-frame","fbShellFlash","dailyBonusSWF");initGS("lobbyFlash",window);function getLobbyFlashClient(a){return getFlash(a,"lobbyFlash")}function isLogoutInProgress(){return logoutInProgress}function lobbyActionContinue(){var a=getLobbyFlashClient(window);if(a)return a.actionContinue()}function _sendInvite(a,b,d){FB.ui({method:"apprequests",to:a,message:b},d||jQuery.noop)}
function _innerSendBribes(a){$.fbapi.sendBribe(function(a){toFlbribesSentToFriends(a.ids)},a)}function nsdcallback(a,b){if(a.order_id&&b){var d=$("#"+b);d.length&&d.data("compldep",!0)}}function updateVipDemoConfJs(){$.fbapi.demoConfig(function(a){if(a&&"undefined"!==typeof a.demo&&"undefined"!==typeof a.demo.c){var b=getLobbyFlashClient(window);b&&b.refreshVipDemoFromJS(a.demo.t,a.demo.c)}})}
function buyDemoVipGame(){jQuery.fbc.nMakeBuyInSingleTyped(jQuery.fbc.typesProducts.demoProlong,function(a){a.r&&!0===a.r.finished&&updateVipDemoConfJs()})}function buyNextCoin(){jQuery.fbc.nMakeBuyInSingleTyped(jQuery.fbc.typesProducts.unlockCoins,function(a){a.r&&!0===a.r.finished&&(a=getLobbyFlashClient(window))&&a.forceSync()})}function openFreeSpins(a){setTimeout(function(){0<a?showFreespinsLobby():showBuyFreeSpins()},50)}
function startDemoVipGame(a){startGame(a,"dm");a=$("#game-frame");a.length&&a.data("demo",!0)}function closeGame(a){a=$("#game-frame");unlockgameopened=gameopened=!1;a.length&&(!0===a.data("demo")&&updateVipDemoConfJs(),a.remove(),1===$.fbc.getGamesCount()&&missingTeammate(),onCloseGame())}
function send4Friends(a){if(a&&0<a.length){_innerSendBribes(a);var b=!1;$.each(a,function(a,c){var f=$("#fgift-items .jspContainer .jspPane").find(".fgift-item[data-uid='"+c+"']");f&&(f.remove(),b=!0)});b&&$("#fgift-items").data("jsp").reinitialise()}}function getsdkeyinit(a){var b="spd"+a;popups[b]||(popups[b]={name:b,missed:!1,displayed:!1,onBonus:!1,forced:!1,timeout:-1,aFunction:showsd,funcParam:a,counter:0});return b}
var showsd=function(a,b,d){b=b||jQuery.noop;d="undefined"!==typeof d?d:96;var c="spdep";"bf"===a?c="spdep":"easter"===a&&(c="spdep2");if("undefined"!==typeof $("#"+c+"-cont .sp1").data("i")){var f=popups[getsdkeyinit(a)];f.timeout=-1;var e=function(){var e=popups[getsdkeyinit(a)];e.timeout&&0<e.timeout&&clearTimeout(e.timeout);e.timeout=setTimeout(function(){queueShowPopup(function(b){showsd(a,b)},d)},3E5);$("#"+c).hide();b()};(f.forced||1>f.counter)&&(!gameopened||1E3>$.fbc.getBalance())?(f.forced||
f.counter++,f.forced=!1,$("#"+c+"-cont .sp1").unbind().click(function(){jQuery.fbc.nMakeBuyIn($(this).data("i"),jQuery.fbc.typesProducts.specialDeposit,function(a){a.r&&!0===a.r.finished&&e(a)})}),$("#"+c+"-cont .close").unbind().click(e),$("#"+c).show()):0==f.counter&&e()}else b()};function czi(a,b){var d=a+2*b;return 2147483647<d?2147483647:d}function onLobbyInitialized(){spdepci?setTimeout(onjsflload,0):spdepci=!0}
var popups={invite_teammate:{name:"invite_teammate",missed:!1,displayed:!1,onBonus:!1,forced:!1,timeout:-1,aFunction:findTeammate,funcParam:null},lowcoins:{name:"lowcoins",missed:!1,displayed:!1,onBonus:!1,forced:!1,timeout:-1,aFunction:showLowCoins,funcParam:null},viprentexpired:{name:"viprentexpired",missed:!1,displayed:!0,onBonus:!1,forced:!1,timeout:-1,aFunction:showVRE,funcParam:null}};
function canDisplayPopups(a){if(!gameopened)return!0;if(popups[a]&&popups[a].displayed&&!popups[a].forced)return popups[a].missed=!0,!1;if(isBonusRound(a))return popups[a].onBonus=!0,!1;popups[a].displayed=!0;popups[a].forced=!1;return!0}function afterBonusReturn(a){!popups[a].forced&&popups[a].displayed||!popups[a].onBonus||(popups[a].onBonus=!1,popups[a].aFunction(popups[a].funcParam))}
function onCloseGame(){$.each(popups,function(a,b){b.displayed=!1;if(b.missed||b.onBonus)b.missed=b.onBonus=!1,b.aFunction(b.funcParam)});3!=$.fbc.getDayOfweek()&&6!=$.fbc.getDayOfweek()||1!=$.fbc.getGamesCount()&&2!=$.fbc.getGamesCount()||showInviteFriendPop()}function toFlbribesSentToFriends(a){if(a&&(!(a instanceof Array)||0<a.length)){var b=getLobbyFlashClient(window);b&&b.bribesSentToFriends(a.toString())}}function sendBribe(a){_innerSendBribes([a])}var balanceRaised=!0;
function onBalanceUpdated(a){!isNaN(a)&&50>=a?balanceRaised&isRoundCompleted()&&(balanceRaised=!1,showLowCoins()):balanceRaised=!0}function showCreditSpPopup(){if("undefined"!==typeof $("#spdep2-cont .sp1").data("i")){if(!$("#spdep2").is(":visible")){var a=popups[getsdkeyinit("easter")];a.timeout&&0<a.timeout&&clearTimeout(a.timeout);a.forced=!0;queueShowPopup(function(a,d){showsd("easter",a,d)},96,!0)}}else buyCredits()}
function onLobbyChangeState(a){var b=$("#trialpayc");0===a||4===a?b.length&&!b.is(":visible")&&$("#trialpayc").show():b.length&&b.is(":visible")&&$("#trialpayc").hide()}function buyCredits(){queueShowPopup(showNewCashier,100,!0)}var showLowCoins=function(){$("#lowcoins").length||(popups.lowcoins.forced=!0,canDisplayPopups("lowcoins")&&$.ajax({url:$.fbc.getSUrl()+"/facebook/gdc.servlet",dataType:"json",type:"POST",data:{s:$.fbc.getSid(),t:"l"},success:function(a){loadLowCoins($("#popupsdiv"),a)}}))};
function showStoryDesc(a){loadWorldMessage($("#popupsdiv"),"s",a)}function showFStoryDesc(a){loadWorldMessage($("#popupsdiv"),"f",a)}function buyAchievement(a,b){jQuery.fbc.nMakeBuyInSingleTyped(jQuery.fbc.typesProducts.buyWorldGameAchieve,function(a){a.r&&!0===a.r.finished&&((a=getLobbyFlashClient(window))&&a.forceSync(),close())},{g:b,a:a})}
function buyVIP(){jQuery.fbc.nMakeBuyInSingleTyped(jQuery.fbc.typesProducts.openVipWorld,function(a){a.r&&!0===a.r.finished&&((a=getLobbyFlashClient(window))&&a.forceSync(),close())})}function recruitTeam(){setTimeout(function(){showRecruitTeam(!1,function(){var a=getLobbyFlashClient(window);a&&a.unlockLobby()})},0)}
function nInviteFriendsDialog(a,b,d,c){a=a||!1;b=b||jQuery.noop;c&&gameopened?b():$.fbapi.getFriendsInvite(function(c){function e(){var a=$(this).hasClass("selected");$(this).toggleClass("selected");$("#ninvite-wraper .slctd span").data("c",a=$("#ninvite-wraper .slctd span").data("c")+(a?-1:1)).text(a)}function d(a){0<u.length&&($("<div class='friend-item'></div>").append($("<div class='label'>SUGGESTED</div>")).appendTo(a),$.each(u,function(b,c){var d=c.name;$("<div class='friend-item'></div>").attr("n",
d.toUpperCase()).append($("<div class='usercheck'><div class='tick'></div></div>").data(c).unbind().click(e),$("<div class='name'>"+d+"</div>")).appendTo(a)}),0<t.length&&$("<div class='friend-item'></div>").append($("<div class='label'>MORE RESULTS</div>")).appendTo(a));$.each(t,function(b,c){var d=c.name;$("<div class='friend-item'></div>").attr("n",d.toUpperCase()).append($("<div class='usercheck'><div class='tick'></div></div>").data(c).unbind().click(e),$("<div class='name'>"+d+"</div>")).appendTo(a)})}
function m(a){A=a;if(a!==P){P=A;var b=s.data("jsp"),c=b?b.getContentPane():s;0==a.length||a===I?(c.find(".friend-item").show(),b.reinitialise()):(c.find(".friend-item").each(function(){if(A!==a)return!1;var b=$(this).attr("n");b&&(0<=b.indexOf(a)?$(this).show():$(this).hide())}),b&&b.reinitialise())}}function h(){var a=$(this).hasClass("likeg"),b=s.data("jsp"),c=b?b.getContentPane():s;c.empty();$("#ninvite-wraper .slctd span").data("c",0).text("0");a?($.each(u,function(a,b){var d=b.name;$("<div class='friend-item'></div>").attr("n",
d.toUpperCase()).append($("<div class='usercheck'><div class='tick'></div></div>").data(b).unbind().click(e),$("<div class='name'>"+d+"</div>")).appendTo(c)}),$("#ninvite-wraper .tabs .all.butt").removeClass("disabled").unbind().click(h),$("#ninvite-wraper .tabs .likeg.butt").addClass("disabled")):(d(c),$("#ninvite-wraper .tabs .likeg.butt").removeClass("disabled").unbind().click(h),$("#ninvite-wraper .tabs .all.butt").addClass("disabled"));b&&b.reinitialise()}function g(){var a=s.data("jsp"),b=[];
(a?a.getContentPane():s).find(".friend-item .usercheck.selected").each(function(){var a=$(this).data("uid");a&&b.push(a)});return b}function n(a,b,c,e){if(b!=c){var d=Math.min(b+e,c);b=a.slice(b,d);_sendInvite(b.join(","),$.fbc.messages.invite,function(b){if(b&&b.to&&0<b.to.length){b=b.to;var f=$("#ninvite-wraper .sendcount span");f.data("c",f.data("c")+b.length).text(f.data("c")+" of "+f.data("s")+" Sent");var k=(f=s.data("jsp"))?f.getContentPane():s,h=function(a,b){var c=-1;jQuery.each(b,function(b,
e){if(e.uid==a)return c=b,!1});return c};$.each(b,function(a,b){var c=h(b,u),e;0<=c&&(e=u[c].name,u.splice(c,1));c=h(b,t);0<=c&&(e=t[c].name,t.splice(c,1));e&&k.find('.friend-item[n="'+e.toUpperCase()+'"]').each(function(){var a=$(this).find(".usercheck");a&&a.data("uid")==b&&($(this).remove(),a=!0,$("#ninvite-wraper .slctd span").data("c",a=$("#ninvite-wraper .slctd span").data("c")+(a?-1:1)).text(a))})});f&&f.reinitialise()}n(a,d,c,e)})}}if(c.r){var v=c.r.fr;if(0>=v.length&&!0===a)b();else{var r=
c.r.lg,u=[],t=[];$.each(v,function(a,b){0<=r.indexOf(b.uid)?u.push(b):t.push(b)});$("#ninvite-wraper .balance span").text((c.r.bl/100).toFixed(0));var B=c.r.bfr/6E4,J=60<=B,ga=0!=B%60;$("#ninvite-wraper .claim span").text("Claim Bonus Every"+(ga?" "+(B%60).toFixed(0)+" Minutes":"")+(J?" "+(B/60).toFixed(0)+" Hours":"")+"!");c=c.r.pf/100;$("#ninvite-wraper .invb .f5").text((5*c).toFixed(0));$("#ninvite-wraper .invb .f10").text((10*c).toFixed(0));$("#ninvite-wraper .invb .f25").text((25*c).toFixed(0));
$("#ninvite-wraper .invb .f50").text((50*c).toFixed(0));$("#ninvite-wraper .invb .f100").text((100*c).toFixed(0));var s=$("#ninvite-wraper .friendslist").empty();d(s);var A,P,I="Type text to search friends";$("#ninvite-wraper .slctd span").data("c",0).text("0");$("#ninvite-wraper .sendcount span").data("c",0).data("s",v.length).text("0 of "+v.length+" Sent");$("#ninvite-wraper .search input").val(I).addClass("pleasesel").off().focus(function(){$(this).val()===I&&$(this).removeClass("pleasesel").val("")}).blur(function(){""===
$(this).val().trim()&&$(this).addClass("pleasesel").val(I)}).keyup(function(){m($(this).val().trim().toUpperCase())});$("#ninvite-wraper .tabs .all.butt").addClass("disabled").unbind();0==r.length?$("#ninvite-wraper .tabs .likeg.butt").addClass("disabled").unbind():$("#ninvite-wraper .tabs .likeg.butt").unbind().click(h);$("#ninvite-wraper .send").unbind().click(function(){var a=g();0!=a.length&&n(a,0,a.length,50)});$("#ninvite-wraper .allsend").unbind().click(function(){var a=[];$.each(u,function(b,
c){a.push(c.uid)});$.each(t,function(b,c){a.push(c.uid)});n(a,0,a.length,50)});$("#ninvite-wraper .close").unbind().click(function(){var a=s.data("jsp");if(a)try{a.destroy()}catch(c){}s.empty();$("#ninvite").hide();b()});$("#ninvite").show();s.jScrollPane({showArrows:!0,horizontalGutter:20,speed:143,verticalDragMinHeight:52})}}else b()})}
function asyncGetRandomFriends(a,b){FB.api({method:"fql.query",query:"SELECT uid, name FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1 = me()) AND is_app_user = 0 LIMIT "+3*a},function(d){d instanceof Array?(d.sort(function(a,b){return a?0.5-Math.random():999}),d.length>a&&(d.length=a),b(d)):b(void 0,d)})}
function openSimpleMessage(a){setTimeout(function(){var b;try{b=$.parseJSON(a)}catch(d){}if(b&&b.t){var c=b.e;switch(b.t){case "approved_teammate":showApprovedTeammate($.fbc.config.uid,c.p,c.f,c.b,c.r);break;case "has_new_teammate":showHasNewTeammate(c.p,c.b,c.nb,c.r);break;case "share_rewards":lobbyActionContinue();break;case "share_coins":queueShowPopup(function(a){openMessageWORW((c.nb-c.b)/100,c.b/100,c.nb/100,c.fs,a)},148);break;case "promobonus":queueShowPopup(function(a){openMessage((c.nb-
c.b)/100,c.b/100,c.nb/100,c.r,c.fs,a)},148);break;case "bonus":queueShowPopup(function(a){openMessage(c.p/100,c.b/100,c.n/100,c.r,void 0,a)},148);break;case "vip_finish":showFinishVIPGame(c.g,c.b,c.r);break;case "need_reaload":if(c.s===$.fbc.getSid()&&"ip"===c.r){showOLReload();break}case "pl":"undefined"!=typeof c.m&&$.fbapi.addMarker(void 0,c.m);queueShowPopup(function(a){showMarked(c.n,a)},99);break;default:lobbyActionContinue()}}},0)}function openBonusMessage(a,b,d,c){showTimeBonus(a,b,d,c)}
function missingTeammate(){$.fbapi.getMissingTeammateAsync(function(a){a&&a.missing_teammate&&0!==a.missing_teammate.length&&(a=a.missing_teammate[Math.floor(Math.random()*a.missing_teammate.length)],showMissing(a.p,a.i,a.n))})}
function prepareDailyBonusRespin(){setTimeout(function(){try{jQuery.fbc.nMakeBuyInSingleTyped(jQuery.fbc.typesProducts.dailyBonusRespin,function(a){var d=getFlash(window,"dailyBonusSWF");a.r&&!0===a.r.finished?($.fbapi.getDailySpinsCount(function(a){if(a=a.spins_count){var b=getLobbyFlashClient(window);if(b)try{b.refreshDailySpinsFromJS(a.t,a.asc)}catch(e){}}}),d&&d.unlockSpin()):d&&d.unlockRespin()})}catch(a){}},0)}
function stateUpdate(a,b,d){a/=100;var c=getLobbyFlashClient(window);if(c){isNaN(d)&&(d=0);try{$.fbc.updateBalance(a,d)}catch(f){}try{c.refreshDailySpinsFromJS(d,b)}catch(e){}$("#dailyBonus").data("is_spin",!0)}}
function showDailyBonusGame(a){a=a||jQuery.noop;var b={menu:"false",quality:"best",devicefont:"true",scale:"default",wmode:"opaque",bgcolor:"#000000",allowscriptaccess:"always"},d={id:"dailyBonusSWF"},c={SID:$.fbc.getSid(),SERVLET_URL:$.fbc.getSUrl()+"/facebook/spinDailyBonus.do",RESPIN_JS:"prepareDailyBonusRespin",STATE_UPDATE_JS:"stateUpdate",JS_SYNC_BALANCE:"true",JS_UPDATE_BALANCE:"updateBalance",JS_ADDITENTER:"updateOnEnter",JS_ON_ROUND_COMPLETED:"onRoundCompleted"};$.fbapi.getDailyBonusConfigAsync(function(f){if(f=
f.daily_config)c.SLABS=f.sl,c.R_BONUS_COUNT=f.rtcn,c.R_BONUS_COST=f.rtcs,c.L_BONUS_VALUE=f.lkcs,c.T_BONUS_VALUE=f.tmcs,c.T_BONUS_COUNT=f.tmc,c.REBUY_COST=f.rbc,c.SPIN=f.asc,c.REWARD=f.trdb,swfobject.embedSWF($.fbc.getCDN()+"/flash/moneyWheel/moneyWheel.swf?_version=8","dailyBonusSWF","100%","100%","9.0.0","/flash/fb/expressInstall.swf",c,b,d),$("#dailyBonus-cont .close").unbind().click(function(){swfobject.removeSWF("dailyBonusSWF");var b=$("#dailyBonus");b.hide();!0===b.data("is_spin")&&(b.removeData("is_spin"),
show_popan_ad("daily"));$("#dailyBonus-cont").append('<div id="dailyBonusSWF"></div>');a()}),$("#dailyBonus").show()})}
function findTeammate(a,b){a?(b="undefined"!==typeof b?b:89,a=a||jQuery.noop,canDisplayPopups(popups.invite_teammate.name)?$.fbapi.getVacantTeammateAsync(function(d){function c(){setTimeout(function(){queueShowPopup(findTeammate,b)},15E5)}d&&"undefined"!==typeof d.vacant_teammate?0<=d.vacant_teammate&&asyncGetRandomFriends(40,function(b){b&&0!==b.length?inviteSpecificFriend(d.vacant_teammate,b,c,a):(c(),a())}):(c(),a())}):a()):canDisplayPopups(popups.invite_teammate.name)&&setTimeout(function(){queueShowPopup(findTeammate,
89)},0)}function addFriends(){$.fbapi.getVacantTeammateAsync(function(a){a&&"undefined"!==typeof a.vacant_teammate&&0<=a.vacant_teammate&&asyncGetRandomFriends(40,function(b){b&&inviteTeammate(a.vacant_teammate,b,function(){var a=getLobbyFlashClient(window);a&&a.unlockLobby()})})})}function updateFormAction(a){currentAction=a.action;-1==currentAction.indexOf("://")&&(a.action="http://"+location.host+currentAction)}function writeOb(a){document.write(a)}
function hidescrollbar(){-1!=navigator.userAgent.indexOf("MSIE")?document.body.scroll="no":document.documentElement.style.overflow="hidden"}function openWnd(a,b,d,c,f){var e;e="menubar=no, location=yes, toolbar=no";e+=", status=no";e+=", personalbar=no";e+=", scrollbars=no";e+=", resizable=yes";"yes"==f?(e+=", width="+screen.width,e+=", height="+screen.height,e+=", fullscreen=yes"):(e+=", width="+b,e+=", height="+d,e+=", fullscreen=no");a=window.open(a,c,e);a.focus();return a}
var swfobject=function(){function a(){if(!U){try{var a=q.getElementsByTagName("body")[0].appendChild(q.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}U=!0;for(var a=K.length,c=0;c<a;c++)K[c]()}}function b(a){U?a():K[K.length]=a}function d(a){if(typeof F.addEventListener!=s)F.addEventListener("load",a,!1);else if(typeof q.addEventListener!=s)q.addEventListener("load",a,!1);else if(typeof F.attachEvent!=s)u(F,"onload",a);else if("function"==typeof F.onload){var b=F.onload;F.onload=
function(){b();a()}}else F.onload=a}function c(){var a=q.getElementsByTagName("body")[0],b=q.createElement(A);b.setAttribute("type",P);var c=a.appendChild(b);if(c){var e=0;(function(){if(typeof c.GetVariable!=s){var d=c.GetVariable("$version");d&&(d=d.split(" ")[1].split(","),l.pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;f()})()}else f()}function f(){var a=C.length;if(0<a)for(var b=0;b<a;b++){var c=C[b].id,
d=C[b].callbackFn,f={success:!1,id:c};if(0<l.pv[0]){var g=r(c);if(g)if(!t(C[b].swfVersion)||l.wk&&312>l.wk)if(C[b].expressInstall&&k()){f={};f.data=C[b].expressInstall;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.styleclass=g.getAttribute("class"));g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),v=g.length,q=0;q<v;q++)"movie"!=g[q].getAttribute("name").toLowerCase()&&(n[g[q].getAttribute("name")]=
g[q].getAttribute("value"));m(f,n,c,d)}else h(g),d&&d(f);else J(c,!0),d&&(f.success=!0,f.ref=e(c),d(f))}else J(c,!0),d&&((c=e(c))&&typeof c.SetVariable!=s&&(f.success=!0,f.ref=c),d(f))}}function e(a){var b=null;(a=r(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=s?b=a:(a=a.getElementsByTagName(A)[0])&&(b=a));return b}function k(){return!ea&&t("6.0.65")&&(l.win||l.mac)&&!(l.wk&&312>l.wk)}function m(a,b,c,d){ea=!0;ja=d||null;pa={success:!1,id:c};var e=r(c);if(e){"OBJECT"==e.nodeName?(fa=g(e),Q=null):
(fa=e,Q=c);a.id=I;if(typeof a.width==s||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==s||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";q.title=q.title.slice(0,47)+" - Flash Player Installation";d=l.ie&&l.win?"ActiveX":"PlugIn";d="MMredirectURL="+F.location.toString().replace(/&/g,"%26")+"&MMplayerType="+d+"&MMdoctitle="+q.title;b.flashvars=typeof b.flashvars!=s?b.flashvars+("&"+d):d;l.ie&&l.win&&4!=e.readyState&&(d=q.createElement("div"),c+="SWFObjectNew",
d.setAttribute("id",c),e.parentNode.insertBefore(d,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}());n(a,b,c)}}function h(a){if(l.ie&&l.win&&4!=a.readyState){var b=q.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(g(a),b);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(g(a),a)}function g(a){var b=q.createElement("div");
if(l.win&&l.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(A)[0])if(a=a.childNodes)for(var c=a.length,d=0;d<c;d++)1==a[d].nodeType&&"PARAM"==a[d].nodeName||8==a[d].nodeType||b.appendChild(a[d].cloneNode(!0));return b}function n(a,b,c){var d,e=r(c);if(l.wk&&312>l.wk)return d;if(e)if(typeof a.id==s&&(a.id=c),l.ie&&l.win){var f="",g;for(g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&
(f+=" "+g+'="'+a[g]+'"'));g="";for(var k in b)b[k]!=Object.prototype[k]&&(g+='<param name="'+k+'" value="'+b[k]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+g+"</object>";ia[ia.length]=a.id;d=r(a.id)}else{k=q.createElement(A);k.setAttribute("type",P);for(var h in a)a[h]!=Object.prototype[h]&&("styleclass"==h.toLowerCase()?k.setAttribute("class",a[h]):"classid"!=h.toLowerCase()&&k.setAttribute(h,a[h]));for(f in b)b[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&
(a=k,g=f,h=b[f],c=q.createElement("param"),c.setAttribute("name",g),c.setAttribute("value",h),a.appendChild(c));e.parentNode.replaceChild(k,e);d=k}return d}function v(a){var b=r(a);b&&"OBJECT"==b.nodeName&&(l.ie&&l.win?(b.style.display="none",function(){if(4==b.readyState){var c=r(a);if(c){for(var d in c)"function"==typeof c[d]&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function r(a){var b=null;try{b=q.getElementById(a)}catch(c){}return b}
function u(a,b,c){a.attachEvent(b,c);Z[Z.length]=[a,b,c]}function t(a){var b=l.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function B(a,b,c,d){if(!l.ie||!l.mac){var e=q.getElementsByTagName("head")[0];e&&(c=c&&"string"==typeof c?c:"screen",d&&(ka=M=null),M&&ka==c||(d=q.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),M=e.appendChild(d),
l.ie&&l.win&&typeof q.styleSheets!=s&&0<q.styleSheets.length&&(M=q.styleSheets[q.styleSheets.length-1]),ka=c),l.ie&&l.win?M&&typeof M.addRule==A&&M.addRule(a,b):M&&typeof q.createTextNode!=s&&M.appendChild(q.createTextNode(a+" {"+b+"}")))}}function J(a,b){if(p){var c=b?"visible":"hidden";U&&r(a)?r(a).style.visibility=c:B("#"+a,"visibility:"+c)}}function ga(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=s?encodeURIComponent(a):a}var s="undefined",A="object",P="application/x-shockwave-flash",
I="SWFObjectExprInst",F=window,q=document,G=navigator,Y=!1,K=[function(){Y?c():f()}],C=[],ia=[],Z=[],fa,Q,ja,pa,U=!1,ea=!1,M,ka,p=!0,l=function(){var a=typeof q.getElementById!=s&&typeof q.getElementsByTagName!=s&&typeof q.createElement!=s,b=G.userAgent.toLowerCase(),c=G.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,e=!+"\v1",f=[0,0,0],g=null;if(typeof G.plugins!=s&&typeof G.plugins["Shockwave Flash"]==
A)!(g=G.plugins["Shockwave Flash"].description)||typeof G.mimeTypes!=s&&G.mimeTypes[P]&&!G.mimeTypes[P].enabledPlugin||(Y=!0,e=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),f[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),f[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),f[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof F.ActiveXObject!=s)try{var k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");k&&(g=k.GetVariable("$version"))&&(e=!0,g=g.split(" ")[1].split(","),
f=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)])}catch(h){}return{w3:a,pv:f,wk:b,ie:e,win:d,mac:c}}();(function(){l.w3&&((typeof q.readyState!=s&&"complete"==q.readyState||typeof q.readyState==s&&(q.getElementsByTagName("body")[0]||q.body))&&a(),U||(typeof q.addEventListener!=s&&q.addEventListener("DOMContentLoaded",a,!1),l.ie&&l.win&&(q.attachEvent("onreadystatechange",function(){"complete"==q.readyState&&(q.detachEvent("onreadystatechange",arguments.callee),a())}),F==top&&function(){if(!U){try{q.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,
0);return}a()}}()),l.wk&&function(){U||(/loaded|complete/.test(q.readyState)?a():setTimeout(arguments.callee,0))}(),d(a)))})();(function(){l.ie&&l.win&&window.attachEvent("onunload",function(){for(var a=Z.length,b=0;b<a;b++)Z[b][0].detachEvent(Z[b][1],Z[b][2]);a=ia.length;for(b=0;b<a;b++)v(ia[b]);for(var c in l)l[c]=null;l=null;for(var d in swfobject)swfobject[d]=null;swfobject=null})})();return{registerObject:function(a,b,c,d){if(l.w3&&a&&b){var e={};e.id=a;e.swfVersion=b;e.expressInstall=c;e.callbackFn=
d;C[C.length]=e;J(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(l.w3)return e(a)},embedSWF:function(a,c,d,e,f,g,h,v,r,q){var p={success:!1,id:c};l.w3&&!(l.wk&&312>l.wk)&&a&&c&&d&&e&&f?(J(c,!1),b(function(){d+="";e+="";var b={};if(r&&typeof r===A)for(var l in r)b[l]=r[l];b.data=a;b.width=d;b.height=e;l={};if(v&&typeof v===A)for(var B in v)l[B]=v[B];if(h&&typeof h===A)for(var u in h)l.flashvars=typeof l.flashvars!=s?l.flashvars+("&"+u+"="+h[u]):u+"="+h[u];if(t(f))B=n(b,l,c),b.id==
c&&J(c,!0),p.success=!0,p.ref=B;else{if(g&&k()){b.data=g;m(b,l,c,q);return}J(c,!0)}q&&q(p)})):q&&q(p)},switchOffAutoHideShow:function(){p=!1},ua:l,getFlashPlayerVersion:function(){return{major:l.pv[0],minor:l.pv[1],release:l.pv[2]}},hasFlashPlayerVersion:t,createSWF:function(a,b,c){if(l.w3)return n(a,b,c)},showExpressInstall:function(a,b,c,d){l.w3&&k()&&m(a,b,c,d)},removeSWF:function(a){l.w3&&v(a)},createCSS:function(a,b,c,d){l.w3&&B(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:d,getQueryParamValue:function(a){var b=
q.location.search||q.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return ga(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return ga(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(ea){var a=r(I);a&&fa&&(a.parentNode.replaceChild(fa,a),Q&&(J(Q,!0),l.ie&&l.win&&(fa.style.display="block")),ja&&ja(pa));ea=!1}}}}();
function getFlash(a,b){return-1!=navigator.userAgent.indexOf("Firefox")?a.document[b]:a.document.embeds&&a.document.embeds[b]?a.document.embeds[b]:a.document.getElementById(b)}var gameFrameId,gameFlashId,additionGameId;function initLS(a,b,d){this.gameFrameId=a;this.gameFlashId=b;this.additionGameId=d}function openFullScreen(a){try{var b=getCurGame();b&&"undefined"!=typeof b.openFullScreen&&b.openFullScreen(a)}catch(d){}}
function updateAchievements(a){try{var b=getCurGame();b&&"undefined"!=typeof b.updateAchievements&&b.updateAchievements(a)}catch(d){}}function getCurGame(){function a(){var a=$("#"+gameFrameId);if(a&&a.length&&(a=a[0])&&(a=a.contentWindow)&&(a=getFlash(a,gameFlashId)))return a}function b(){var a=getFlash(window,additionGameId);if(a)return a}var d=$("#game-frame").length?"s":$("#dailyBonus").is(":visible")?"d":void 0;return"s"===d?a():"d"===d?b():void 0}
function isRoundCompleted(){var a;a:{var b=getCurGame();try{if(b&&"undefined"!==typeof b.getRoundCompletedFromJS){a=b.getRoundCompletedFromJS();break a}}catch(d){}a=void 0}return a=("undefined"!==typeof a?a:!0).toString()}function lobbyupdateBalance(a,b){"function"===typeof onBalanceUpdated&&onBalanceUpdated(a);isNaN(b)&&(b=0);$.fbc.updateBalance(a,b);var d=getCurGame();try{d&&"undefined"!==typeof d.refreshBalanceFromJS&&d.refreshBalanceFromJS(a,b)}catch(c){}}
function isBonusRound(a){var b;a:{var d=getCurGame();try{if(d&&"undefined"!==typeof d.isBonusRoundCompleted){b="true"==d.isBonusRoundCompleted("onBonusRoundCompleted",a).toLowerCase();break a}}catch(c){}b=void 0}return"undefined"!==typeof b?b:!1}var lobbyFlashId,lobbyFlashWindow;function initGS(a,b){this.lobbyFlashWindow="undefined"==typeof b?window.parent:b;this.lobbyFlashId=a}function lobby(){try{return getFlash(lobbyFlashWindow,lobbyFlashId)}catch(a){}}
function onRoundCompleted(){try{var a=lobby();if("undefined"!==typeof a)a.onRoundCompletedJS()}catch(b){}}function updateBalance(a,b,d){try{var c=lobby();if(c){"undefined"===typeof d&&(d="");isNaN(b)&&(b=0);try{lobbyFlashWindow.$.fbc.updateBalance(a,b)}catch(f){}isNaN(d)&&c.refreshFromJS(a,b,d)}}catch(e){}}function showCashier(){try{var a=lobby();a&&a.showCashier()}catch(b){}}function onBonusRoundCompleted(a){lobbyFlashWindow.afterBonusReturn(a)}
function updateOnEnter(a){try{var b=lobby();b&&b.configureAdditional(a)}catch(d){}}
(function(a,b,d){a.fn.jScrollPane=function(b){function f(b,c){function f(c){var g,k,l,v,t,s=!1,B=!1;p=c;if(w===d)v=b.scrollTop(),t=b.scrollLeft(),b.css({overflow:"hidden",padding:0}),z=b.innerWidth()+ha,y=b.innerHeight(),b.width(z),w=a('<div class="jspPane" />').css("padding",Ca).append(b.children()),x=a('<div class="jspContainer" />').css({width:z+"px",height:y+"px"}).append(w).appendTo(b);else{b.css("width","");s=p.stickToBottom&&ia();B=p.stickToRight&&Z();if(l=b.innerWidth()+ha!=z||b.outerHeight()!=
y)z=b.innerWidth()+ha,y=b.innerHeight(),x.css({width:z+"px",height:y+"px"});if(!l&&Da==L&&w.outerHeight()==H){b.width(z);return}Da=L;w.css("width","");b.width(z);x.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}w.css("overflow","auto");L=c.contentWidth?c.contentWidth:w[0].scrollWidth;H=w[0].scrollHeight;w.css("overflow","");ya=L/z;qa=H/y;R=1<qa;if((S=1<ya)||R){b.addClass("jspScrollable");if(c=p.maintainPosition&&(D||E))g=K(),k=C();h();n();r();c&&(G(B?L-z:g,!1),q(s?H-y:k,!1));ja();fa();
ka();p.enableKeyboardNavigation&&pa();p.clickOnTrack&&J();U();p.hijackInternalLinks&&M()}else b.removeClass("jspScrollable"),w.css({top:0,width:x.width()-ha}),x.unbind(za),w.find(":input,a").unbind("focus.jsp"),b.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),ga(),ea();p.autoReinitialise&&!ra?ra=setInterval(function(){f(p)},p.autoReinitialiseDelay):!p.autoReinitialise&&ra&&clearInterval(ra);v&&b.scrollTop(0)&&q(v,!1);t&&b.scrollLeft(0)&&G(t,!1);b.trigger("jsp-initialised",
[S||R])}function h(){R&&(x.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />'))),sa=x.find(">.jspVerticalBar"),W=sa.find(">.jspTrack"),N=W.find(">.jspDrag"),p.showArrows&&(la=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",t(0,-1)).bind("click.jsp",Q),ma=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",
t(0,1)).bind("click.jsp",Q),p.arrowScrollOnHover&&(la.bind("mouseover.jsp",t(0,-1,la)),ma.bind("mouseover.jsp",t(0,1,ma))),u(W,p.verticalArrowPositions,la,ma)),ba=y,x.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ba-=a(this).outerHeight()}),N.hover(function(){N.addClass("jspHover")},function(){N.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",Q);N.addClass("jspActive");var c=b.pageY-N.position().top;a("html").bind("mousemove.jsp",
function(a){A(a.pageY-c,!1)}).bind("mouseup.jsp mouseleave.jsp",s);return!1}),g())}function g(){W.height(ba+"px");D=0;Aa=p.verticalGutter+W.outerWidth();w.width(z-Aa-ha);try{0===sa.position().left&&w.css("margin-left",Aa+"px")}catch(a){}}function n(){S&&(x.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />'))),
ta=x.find(">.jspHorizontalBar"),X=ta.find(">.jspTrack"),O=X.find(">.jspDrag"),p.showArrows&&(na=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",t(-1,0)).bind("click.jsp",Q),oa=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",t(1,0)).bind("click.jsp",Q),p.arrowScrollOnHover&&(na.bind("mouseover.jsp",t(-1,0,na)),oa.bind("mouseover.jsp",t(1,0,oa))),u(X,p.horizontalArrowPositions,na,oa)),O.hover(function(){O.addClass("jspHover")},function(){O.removeClass("jspHover")}).bind("mousedown.jsp",
function(b){a("html").bind("dragstart.jsp selectstart.jsp",Q);O.addClass("jspActive");var c=b.pageX-O.position().left;a("html").bind("mousemove.jsp",function(a){I(a.pageX-c,!1)}).bind("mouseup.jsp mouseleave.jsp",s);return!1}),T=x.innerWidth(),v())}function v(){x.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){T-=a(this).outerWidth()});X.width(T+"px");E=0}function r(){if(S&&R){var b=X.outerHeight(),c=W.outerWidth();ba-=b;a(ta).find(">.jspCap:visible,>.jspArrow").each(function(){T+=
a(this).outerWidth()});T-=c;y-=c;z-=b;X.parent().append(a('<div class="jspCorner" />').css("width",b+"px"));g();v()}S&&w.width(x.outerWidth()-ha+"px");H=w.outerHeight();qa=H/y;S&&(ca=Math.ceil(1/ya*T),ca>p.horizontalDragMaxWidth?ca=p.horizontalDragMaxWidth:ca<p.horizontalDragMinWidth&&(ca=p.horizontalDragMinWidth),O.width(ca+"px"),aa=T-ca,F(E));R&&(da=Math.ceil(1/qa*ba),da>p.verticalDragMaxHeight?da=p.verticalDragMaxHeight:da<p.verticalDragMinHeight&&(da=p.verticalDragMinHeight),N.height(da+"px"),
V=ba-da,P(D))}function u(a,b,c,d){var e="before",f="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split");b==e?f=b:b==f&&(e=b,b=c,c=d,d=b);a[e](c)[f](d)}function t(a,b,c){return function(){B(a,b,this,c);this.blur();return!1}}function B(b,c,d,e){d=a(d).addClass("jspActive");var f,g,k=!0,h=function(){0!==b&&l.scrollByX(b*p.arrowButtonSpeed);0!==c&&l.scrollByY(c*p.arrowButtonSpeed);g=setTimeout(h,k?p.initialDelay:p.arrowRepeatFreq);k=!1};h();f=e?"mouseout.jsp":"mouseup.jsp";e=e||a("html");
e.bind(f,function(){d.removeClass("jspActive");g&&clearTimeout(g);g=null;e.unbind(f)})}function J(){ga();R&&W.bind("mousedown.jsp",function(b){if(b.originalTarget===d||b.originalTarget==b.currentTarget){var c=a(this),e=c.offset(),f=b.pageY-e.top-D,g,k=!0,h=function(){var a=c.offset(),a=b.pageY-a.top-da/2,d=y*p.scrollPagePercent,e=V*d/(H-y);if(0>f)D-e>a?l.scrollByY(-d):A(a);else if(0<f)D+e<a?l.scrollByY(d):A(a);else{n();return}g=setTimeout(h,k?p.initialDelay:p.trackClickRepeatFreq);k=!1},n=function(){g&&
clearTimeout(g);g=null;a(document).unbind("mouseup.jsp",n)};h();a(document).bind("mouseup.jsp",n);return!1}});S&&X.bind("mousedown.jsp",function(b){if(b.originalTarget===d||b.originalTarget==b.currentTarget){var c=a(this),e=c.offset(),f=b.pageX-e.left-E,g,k=!0,h=function(){var a=c.offset(),a=b.pageX-a.left-ca/2,d=z*p.scrollPagePercent,e=aa*d/(L-z);if(0>f)E-e>a?l.scrollByX(-d):I(a);else if(0<f)E+e<a?l.scrollByX(d):I(a);else{n();return}g=setTimeout(h,k?p.initialDelay:p.trackClickRepeatFreq);k=!1},n=
function(){g&&clearTimeout(g);g=null;a(document).unbind("mouseup.jsp",n)};h();a(document).bind("mouseup.jsp",n);return!1}})}function ga(){X&&X.unbind("mousedown.jsp");W&&W.unbind("mousedown.jsp")}function s(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");N&&N.removeClass("jspActive");O&&O.removeClass("jspActive")}function A(a,b){R&&(0>a?a=0:a>V&&(a=V),b===d&&(b=p.animateScroll),b?l.animate(N,"top",a,P):(N.css("top",a),P(a)))}function P(a){a===d&&(a=N.position().top);
x.scrollTop(0);D=a;var c=0===D,f=D==V;a=-(a/V)*(H-y);if(ua!=c||va!=f)ua=c,va=f,b.trigger("jsp-arrow-change",[ua,va,wa,xa]);p.showArrows&&(la[c?"addClass":"removeClass"]("jspDisabled"),ma[f?"addClass":"removeClass"]("jspDisabled"));w.css("top",a);b.trigger("jsp-scroll-y",[-a,c,f]).trigger("scroll")}function I(a,b){S&&(0>a?a=0:a>aa&&(a=aa),b===d&&(b=p.animateScroll),b?l.animate(O,"left",a,F):(O.css("left",a),F(a)))}function F(a){a===d&&(a=O.position().left);x.scrollTop(0);E=a;var c=0===E,f=E==aa;a=
-(a/aa)*(L-z);if(wa!=c||xa!=f)wa=c,xa=f,b.trigger("jsp-arrow-change",[ua,va,wa,xa]);p.showArrows&&(na[c?"addClass":"removeClass"]("jspDisabled"),oa[f?"addClass":"removeClass"]("jspDisabled"));w.css("left",a);b.trigger("jsp-scroll-x",[-a,c,f]).trigger("scroll")}function q(a,b){A(a/(H-y)*V,b)}function G(a,b){I(a/(L-z)*aa,b)}function Y(b,c,d){var e,f,g=0,k=0,h,n,m;try{e=a(b)}catch(v){return}f=e.outerHeight();b=e.outerWidth();x.scrollTop(0);for(x.scrollLeft(0);!e.is(".jspPane");)if(g+=e.position().top,
k+=e.position().left,e=e.offsetParent(),/^body|html$/i.test(e[0].nodeName))return;e=C();h=e+y;g<e||c?n=g-p.verticalGutter:g+f>h&&(n=g-y+f+p.verticalGutter);n&&q(n,d);g=K();n=g+z;k<g||c?m=k-p.horizontalGutter:k+b>n&&(m=k-z+b+p.horizontalGutter);m&&G(m,d)}function K(){return-w.position().left}function C(){return-w.position().top}function ia(){var a=H-y;return 20<a&&10>a-C()}function Z(){var a=L-z;return 20<a&&10>a-K()}function fa(){x.unbind(za).bind(za,function(a,b,c,d){a=E;b=D;l.scrollBy(c*p.mouseWheelSpeed,
-d*p.mouseWheelSpeed,!1);return a==E&&b==D})}function Q(){return!1}function ja(){w.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){Y(a.target,!1)})}function pa(){function c(){var a=E,b=D;switch(d){case 40:l.scrollByY(p.keyboardSpeed,!1);break;case 38:l.scrollByY(-p.keyboardSpeed,!1);break;case 34:case 32:l.scrollByY(y*p.scrollPagePercent,!1);break;case 33:l.scrollByY(-y*p.scrollPagePercent,!1);break;case 39:l.scrollByX(p.keyboardSpeed,!1);break;case 37:l.scrollByX(-p.keyboardSpeed,
!1)}return f=a!=E||b!=D}var d,f,g=[];S&&g.push(ta[0]);R&&g.push(sa[0]);w.focus(function(){b.focus()});b.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(b){if(b.target===this||g.length&&a(b.target).closest(g).length){var e=E,k=D;switch(b.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:d=b.keyCode;c();break;case 35:q(H-y);d=null;break;case 36:q(0),d=null}f=b.keyCode==d&&e!=E||k!=D;return!f}}).bind("keypress.jsp",function(a){a.keyCode==d&&c();return!f});
p.hideFocus?(b.css("outline","none"),"hideFocus"in x[0]&&b.attr("hideFocus",!0)):(b.css("outline",""),"hideFocus"in x[0]&&b.attr("hideFocus",!1))}function U(){if(location.hash&&1<location.hash.length){var b,c,d=escape(location.hash);try{b=a(d)}catch(e){return}b.length&&w.find(d)&&(0===x.scrollTop()?c=setInterval(function(){0<x.scrollTop()&&(Y(d,!0),a(document).scrollTop(x.position().top),clearInterval(c))},50):(Y(d,!0),a(document).scrollTop(x.position().top)))}}function ea(){a("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}
function M(){ea();a("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var a=this.href.split("#");if(1<a.length&&(a=a[1],0<a.length&&0<w.find("#"+a).length))return Y("#"+a,!0),!1})}function ka(){var a,b,c,d,e,f=!1;x.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(g){g=g.originalEvent.touches[0];a=K();b=C();c=g.pageX;d=g.pageY;e=!1;f=!0}).bind("touchmove.jsp",function(g){if(f){g=g.originalEvent.touches[0];var k=E,h=D;l.scrollTo(a+
c-g.pageX,b+d-g.pageY);e=e||5<Math.abs(c-g.pageX)||5<Math.abs(d-g.pageY);return k==E&&h==D}}).bind("touchend.jsp",function(a){f=!1}).bind("click.jsp-touchclick",function(a){if(e)return e=!1})}var p,l=this,w,z,y,x,L,H,ya,qa,R,S,N,V,D,O,aa,E,sa,W,Aa,ba,da,la,ma,ta,X,T,ca,na,oa,ra,Ca,ha,Da,ua=!0,wa=!0,va=!1,xa=!1,Ba=b.clone(!1,!1).empty(),za=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";Ca=b.css("paddingTop")+" "+b.css("paddingRight")+" "+b.css("paddingBottom")+" "+b.css("paddingLeft");ha=(parseInt(b.css("paddingLeft"),
10)||0)+(parseInt(b.css("paddingRight"),10)||0);a.extend(l,{reinitialise:function(b){b=a.extend({},p,b);f(b)},scrollToElement:function(a,b,c){Y(a,b,c)},scrollTo:function(a,b,c){G(a,c);q(b,c)},scrollToX:function(a,b){G(a,b)},scrollToY:function(a,b){q(a,b)},scrollToPercentX:function(a,b){G(a*(L-z),b)},scrollToPercentY:function(a,b){q(a*(H-y),b)},scrollBy:function(a,b,c){l.scrollByX(a,c);l.scrollByY(b,c)},scrollByX:function(a,b){var c=(K()+Math[0>a?"floor":"ceil"](a))/(L-z);I(c*aa,b)},scrollByY:function(a,
b){var c=(C()+Math[0>a?"floor":"ceil"](a))/(H-y);A(c*V,b)},positionDragX:function(a,b){I(a,b)},positionDragY:function(a,b){A(a,b)},animate:function(a,b,c,d){var e={};e[b]=c;a.animate(e,{duration:p.animateDuration,easing:p.animateEase,queue:!1,step:d})},getContentPositionX:function(){return K()},getContentPositionY:function(){return C()},getContentWidth:function(){return L},getContentHeight:function(){return H},getPercentScrolledX:function(){return K()/(L-z)},getPercentScrolledY:function(){return C()/
(H-y)},getIsScrollableH:function(){return S},getIsScrollableV:function(){return R},getContentPane:function(){return w},scrollToBottom:function(a){A(V,a)},hijackInternalLinks:function(){M()},destroy:function(){var a=C(),c=K();b.removeClass("jspScrollable").unbind(".jsp");b.replaceWith(Ba.append(w.children()));Ba.scrollTop(a);Ba.scrollLeft(c)}});f(c)}b=a.extend({},a.fn.jScrollPane.defaults,b);a.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){b[this]=b[this]||
b.speed});return this.each(function(){var d=a(this),k=d.data("jsp");k?k.reinitialise(b):(k=new f(d,b),d.data("jsp",k))})};a.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:d,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,
mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);
(function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),m=0,h=0,g=0;b=a.event.fix(c);b.type="mousewheel";c.wheelDelta&&(m=c.wheelDelta/120);c.detail&&(m=-c.detail/3);g=m;void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,h=-1*m);void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120);void 0!==c.wheelDeltaX&&(h=-1*c.wheelDeltaX/120);d.unshift(b,m,h,g);return(a.event.dispatch||a.event.handle).apply(this,d)}var d=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=d.length;c;)a.event.fixHooks[d[--c]]=
a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=d.length;a;)this.addEventListener(d[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=d.length;a;)this.removeEventListener(d[--a],b,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
jQuery.fbc=jQuery.fbc||{typesProducts:{deposit:0,buyWorldGameAchieve:1,buyVipGameAchieve:2,dailyBonusRespin:3,openVipWorld:4,unlockCoins:5,demoProlong:6,freeSpins:7,specialDeposit:8,cashier:9},config:{id:null,currencyUrl:null,encCurrencyUrl:null,thirdPartyId:null,sid:null,buy:null,relogin:null,sUrl:null,iUrl:null,cdn:null,appUrl:null,dayWeek:null},state:{balance:null,updateTime:null,games_count:0},messages:{invite:void 0,invite_teammate:void 0,missing:void 0},applconfig:void 0,games_config:void 0,
sessionTracker:void 0,init:function(a){a&&(a.scheme&&($(this).data("sch",a.scheme),delete a.scheme),a.messages&&($.extend(this.messages,a.messages),delete a.messages),$.extend(this.config,a),this.config.iUrl&&$(this).data("sch")&&(this.config.sUrl=$(this).data("sch")+"://"+this.config.iUrl));if("undefined"===typeof jQuery.fbc.applconfig){var b=function(){"undefined"===typeof jQuery.fbc.applconfig&&jQuery.fbapi.getConfig(function(a){"undefined"!==typeof a.config?jQuery.fbc.applconfig=a.config:setTimeout(b,
3E4)})};setTimeout(b,100)}$(this).data("init",!0);return $(this)},initST:function(a){function b(a){function b(a){var c=(new Date).getTime();if(!(c<e.sessionChecker.nextStart&&c+a>e.sessionChecker.nextStart)){var d=e.sessionChecker.curThread;setTimeout(function(){d&&clearTimeout(d)},0);e.sessionChecker.curThread=setTimeout(f,a);e.sessionChecker.nextStart=c+a}}function f(){function f(a){$.ajax({url:$.fbc.sUrl+"/facebook/relogin.servlet",type:"POST",dataType:"json",data:{SID:$.fbc.getSid(),T:a},success:function(a){if(a.exp){b(a.exp);
do(a=e.errorQueue.shift())&&a.f&&a.f(a.p,a.c);while(a)}else a.error&&a.error.reload&&!0===a.error.reload?top.location.href=$.fbc.getAppUrl():this._checkSession()},error:function(){this._checkSession()}})}a.getLoginStatus(function(m){if(m)if("connected"===m.status){var h=m.authResponse.accessToken;e.token?h!=e.token?f(m.authResponse.accessToken):b(1E3*m.authResponse.expiresIn):e.token=h}else a.login(function(a){a&&a.authResponse&&a.authResponse.accessToken?f(a.authResponse.accessToken):this._checkSession()},
{auth_type:"reauthenticate"});else this._checkSession()},!0)}var e={sessionChecker:{nextStart:0,curThread:void 0},token:void 0,errorQueue:[]};this.processFunction=function(a,b,c){a(c,function(d){d&&(d.error&&"OAuthException"===d.error.type||d.error_code&&1383010!=d.error_code)?(e.errorQueue.push({f:a,p:c,c:b}),this._checkSession()):"function"===typeof b&&b(d)})};this._checkSession=function(){b(5E3)}}this.sessionTracker=this.sessionTracker||new b(a)},updateState:function(a){$.extend(this.state,a);
return $(this)},updateBalance:function(a,b){!isNaN(a)&&(isNaN(this.state.updateTime)||this.state.updateTime<b)&&(this.state.balance=a)},getBalance:function(){return this.state.balance},getId:function(){if(this.isInit())return this.config.id},getAppUrl:function(){if(this.isInit())return this.config.appUrl},getEncCurrencyUrl:function(){if(this.isInit())return this.config.encCurrencyUrl},getDayOfweek:function(){if(this.isInit())return this.config.dayWeek},getThirdPartyId:function(){if(this.isInit())return this.config.thirdPartyId},
getSid:function(){if(this.isInit())return this.config.sid},getSchema:function(){return $(this).data("sch")},getSUrl:function(){if(this.isInit())return this.config.sUrl},getIUrl:function(){if(this.isInit())return this.config.iUrl},getCDN:function(){if(this.isInit())return this.config.cdn},isInit:function(){return $(this).data("init")||!1},initTrialPay:function(a,b,d,c){if(!a)return $(this);var f=this.config;b=$(this).data("sch")+"://s-assets.tp-cdn.com/static3/swf/dealspot.swf?app_id="+f.id+"&mode=fbpayments&currency_url="+
f.encCurrencyUrl+"&sid="+f.thirdPartyId+(b?"&onOfferAvailable="+b:"")+(d?"&onOfferUnavailable="+d:"")+(c?"&onOpen="+c:"");"undefined"!==typeof swfobject?swfobject.embedSWF(b,a,"100","100","9.0.0","/flash/fb/flash/expressInstall.swf",{},{menu:"false",quality:"best",devicefont:"true",allowscriptaccess:"always",wmode:"transparent",salign:"r"},{id:a}):$("#"+a).replaceWith('<OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id='+a+' codebase="'+$(this).data("sch")+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=5,0,0,0" WIDTH="100%" HEIGHT="100%"><PARAM NAME=movie VALUE="'+
b+'"><PARAM NAME=menu VALUE=false><PARAM NAME=quality VALUE=best><PARAM NAME=devicefont VALUE=true><PARAM NAME=scale VALUE=exactfit><PARAM NAME=allowscriptaccess VALUE=always><PARAM NAME=wmode VALUE=transparent><PARAM NAME=salign VALUE=r><PARAM NAME=base VALUE='+b+'><EMBED src="'+b+'" name="'+a+'" menu=false quality=best wmode="transparent" devicefont=true WIDTH="100%" HEIGHT="100%" scale="exactfit" TYPE="application/x-shockwave-flash" PLUGINSPAGE="'+$(this).data("sch")+'://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"></EMBED></OBJECT>');
return $(this)},initTrialPayWithJFunc:function(a,b,d,c){var f,e,k,m="",h=a.replaceAll("-","").replaceAll(".",""),g=$("<div id='"+h+"fn' />");"undefined"!==typeof b&&(f=h+"a",m+="var "+f+"=function "+f+'(){$("#'+h+'fn").data("af")();};',g.data("af",b));"undefined"!==typeof d&&(e=h+"u",m+="var "+e+"=function "+e+'(){$("#'+h+'fn").data("uf")();};',g.data("uf",d));"undefined"!==typeof c&&(k=h+"o",m+="var "+k+"=function "+k+'(){$("#'+h+'fn").data("of")();};',g.data("of",c));if(f||e||k)b=document.createElement("script"),
b.type="text/javascript",b.text=m,g.data("df",b),$("#"+a).after(g),g.after(b);return this.initTrialPay(a,f,e,k)},earn:function(){var a=this.config;"undefined"!==typeof FB&&FB.ui({method:"pay",action:"earn_currency",product:a.currencyUrl},jQuery.noop);return $(this)},nMakeBuyInSingleTyped:function(a,b,d){b=b||jQuery.noop;var c=jQuery.fbc.getTypedProduct(a);"undefined"===typeof c?b({error:"unknown type"}):this.nMakeBuyIn(c,a,b,d)},nMakeBuyIn:function(a,b,d,c){var f=typeof d;"undefined"===f?d=jQuery.noop:
"function"!==f&&"object"!==typeof c&&(c=d,d=jQuery.noop);c=c||{};c.i=a;c.t=b;jQuery.fbapi.buy(function(a){a&&a.r?FB.ui({method:"pay",action:"purchaseitem",product:a.r.u,quantity:1,request_id:a.r.i},function(a){jQuery.fbapi.buyanswer(function(a){d(a)},a)}):d("error",a)},c)},destroyTrialPay:function(a){if(!a)return $(this);var b=$("#"+a);if(b.length){swfobject&&swfobject.removeSWF(a);var d=a.replaceAll("_","").replaceAll(".",""),c=$("#"+d+"fn");if(c.length){var f=c.data("df");if(c){var e=function(a,
b){if("undefined"!==typeof window[a])try{delete window[a]}catch(c){window[a]=b}},k=function(){return!1};e(d+"u",k);e(d+"a",k);e(d+"o",k);$(f).remove();c.remove()}b.replaceWith('<div id="'+a+'"></div>')}}return $(this)},processFunction:function(a,b,d){this.sessionTracker.processFunction(a,b,d);return $(this)},checkSession:function(){this.sessionTracker._checkSession();return $(this)},detectStartGame:function(){this.state.games_count++;return $(this)},getGamesCount:function(){return this.state.games_count},
shareReward:function(a,b,d,c){b={method:"feed",link:a.link,picture:a.picture,name:a.name,caption:a.caption,description:a.description,actions:[{name:a.action,link:a.link}]};"undefined"!==typeof a.ref&&(b.ref=a.ref);FB.ui(b,function(a){a&&a.post_id&&"function"===typeof d?d():"function"===typeof c&&c()})},getGamesConfig:function(){return this.applconfig.levels},getTimeBonusConfig:function(){return this.applconfig.timebonus},getVipRoomConfig:function(){return this.applconfig.vip},getDemoGame:function(){return this.applconfig.demo},
getTypedProducts:function(){return this.applconfig.typedProducts},getTypedProduct:function(a){return this.getTypedProducts()[a]},fql:{itertype:{prev:1,next:2,simple:0},getFriendsWithPaging:function(a,b,d,c,f,e){"undefined"===typeof e&&(e=this.itertype.simple);d="SELECT uid, name FROM user WHERE uid in (SELECT uid2 FROM friend WHERE uid1 = me()) "+("undefined"!==typeof d?" AND is_app_user = "+(d?"1":"0"):"")+(e===this.itertype.simple?"":" AND lower(name) "+(e===this.itertype.next?">":"<")+" '"+f+"'")+
("undefined"!==typeof c?" AND strpos(lower(name),'"+c.toLowerCase()+"')>=0":"")+" ORDER BY lower(name)"+(e===this.itertype.prev?" DESC":"")+("undefined"!==typeof b?" LIMIT "+(b+1):"");FB.api({method:"fql.query",query:d},function(c){if(c instanceof Array){var d={hasNext:function(){return"undefined"!==typeof this.next},hasPrev:function(){return"undefined"!==typeof this.prev}};c.length>b&&(e===$.fbc.fql.itertype.prev?d.prev=c[b-1].name:d.next=c[b-1].name,c.length=b);e===$.fbc.fql.itertype.prev?(d.next=
c[0].name,c.reverse()):e===$.fbc.fql.itertype.next&&(d.prev=c[0].name);d.resp=c;a(d)}else a(void 0,c)})}}};jQuery.expr[":"].icontains=function(a,b,d){return 0<=(a.textContent||a.innerText||"").toUpperCase().indexOf(d[3].toUpperCase())};var searchdeffgfriends="Search for friends",freeCoinsButton="Free Coins",freeSpinsAndCoinsButton="Free Spins & Free Coins",freeSpinsButton="Free Spins",vgii=1E4;
function showNumber(a,b,d,c,f,e,k,m){var h=function(a,b,c){function d(a,b,c){var e=[];10<=a&&(e=e.concat(d(Math.floor(a/10),b,c+1)),0<c&&0===c%3&&e.push(b+","));e.push(b+""+Math.floor(a%10));return e}var e=d(Math.floor(a/100),b,1);a=Math.floor(a%100);0<a?(e.push(b+"."),e=e.concat(d(a,b,1))):!0===c&&e.push(b+".",b+"0",b+"0");return e}(a,b,e);k&&$.each(k.split(";").reverse(),function(a,b){h.unshift(b.trim())});m&&$.each(m.split(";"),function(a,b){h.push(b.trim())});$.each(h,function(a,b){d.append($('<img src="'+
c+b+"."+f+'"/>'))});return d}String.prototype.replaceAll=function(a,b){for(var d=this;-1!=d.indexOf(a);)d=d.replace(a,b);return d};var np="/images/facebook/popups/pf/",ne="png?v=2";
function loadMicroPopup(f,a){var c=function(){var b=$("#mpay-close").attr("for");"undefined"!==typeof b&&$("#"+b).remove();show_popan_ad("cashier")},d=$("<div id='mpcoins-selector'></div>"),e=$("<div id='mpay' class='unselectable'></div>");e.append($("<div id='mpay-flash-block' class='flash-block'></div>"),$("<div id='mpay-wraper' class='popupwraper'>").append($("<div id='mpay-page' class='unselectable'>").append($("<div id='mpay-close' for='mpay'></div>").unbind("click").click(c),d,$("<div id='adpanel'></div>").append($("<div id='mptbcollect'></div>"),
$("<div id='mpgifts'></div>").unbind("click").click(function(){sendBribes();c()})))));a&&a.p&&$.each(a.p,function(b,a){$("<div id='mpcoinspack"+b+"' class='coinspack'></div>").append(showNumber(a.c,"b",$("<div class='b'></div>"),np,ne,!0,"b$"),showNumber(a.v,"m",$("<div class='v'></div>"),np,ne,!1,void 0,"mcoins")).data("cp",a).unbind("click").click(function(){var a=$(this).data("cp");a&&jQuery.fbc.nMakeBuyIn(a.i,a.t)}).appendTo(d)});f.append(e)}
function destroyMicroPopup(){$.fbc.destroyTrialPay("mptrial-pay")};
function loadLowCoins(a,b){var d=function(){var a=$("#lowcoins-close").attr("for");"undefined"!==typeof a&&$("#"+a).remove()},c=$("<div id='lccoins-selector'></div>"),f=$("<div id='lowcoins' class='unselectable'></div>").append($("<div id='store-flash-block' class='flash-block'></div>"),$("<div id='lowcoins-wraper' class='popupwraper'>").append($("<div id='lowcoinspopup' class='unselectable'>").append($("<div id='lowcoins-close' for='lowcoins'></div>").unbind("click").click(d),$("<div id='lcmoreoptions'></div>").unbind("click").click(function(){buyCredits();
d()}),c)));b&&b.p&&$.each(b.p,function(a,b){$("<div id='lccoinspack"+a+"' class='coinspack'></div>").append(showNumber(b.c,"b",$("<div class='b'></div>"),np,ne,!0,"b$"),showNumber(b.v,"m",$("<div class='v'></div>"),np,ne,!1,void 0,"mcoins")).data("cp",b).unbind("click").click(function(){var a=$(this).data("cp");a&&jQuery.fbc.nMakeBuyIn(a.i,a.t)}).appendTo(c)});a.append(f)}
function loadIntro(a){a=a||jQuery.noop;var b=$("#intro-popup"),d=b.find(".one"),c=b.find(".two");d.find(".next").unbind().click(function(){c.show();d.hide();"undefined"!==typeof FB&&FB.XFBML.parse(b.find(".introlike").html('<fb:like href="http://www.facebook.com/SlotsStories" width="340" layout="button_count" show_faces="false" send="false" id="introlikei"></fb:like>').get(0))});c.find(".prev").unbind().click(function(){d.show();c.hide()});var f=function(){$("#intro").hide();d.show();c.hide();a()};
b.find(".close").unbind().click(f);c.find(".next").unbind().click(function(){if($(this).hasClass("disabled"))return!0;f()});$("#intro").show().data("onlike",function(){c.find(".next").removeClass("disabled");b.find(".introlike").html('<div class="thanks"></div>')})}
function askForHelp(){$("#help-close").unbind().click(function(){$("#help").hide()});var a=$.fbc.getSchema()+"://www.facebook.com/SlotsStories",b=a+"?ref=ts#!/messages/SlotsStories";$("#help-page .helplink").html("www.facebook.com/SlotsStories").unbind().click(function(){top.location.href=b});$("#help-page .promolink").unbind().click(function(){top.location.href=a});$("#help").show()}
var game_names={280:"Safari Sam",274:"It Came From Venus",210:"Mr.Vegas",262:"The Exterminator",258:"Slots Angels",179:"SlotsFather",267:"Miles Bellhouse",248:"Lost",224:"2 Million B.C.",256:"Black Gold",190:"Aztec Treasures",226:"Arrival",238:"Mama Mia",234:"A Night In Paris",228:"Viking Age",178:"Gladiator",236:"True Illusions",180:"Heist",193:"Once Upon A Time",207:"Enchanted",158:"Treasure Room",243:"Ned & His Friends",177:"Three Wishes",247:"Madder Scientist",295:"After Night Falls",294:"Sushi Bar",
259:"Under the Sea",266:"At the Movies",277:"Rook's Revenge",231:"Tycoons",300:"At The Copa",222:"Gold Diggers",2:"Lucky 7",264:"Red White&Blue 7's",21:"Diamond Dreams",3:"Triple Crown",20:"Mermaid Pearl",18:"Captain Cash",220:"RockStar",293:"Gemscapades",308:"Under the Bed",323:"Boomanji",225:"Paco and the Popping Peppers",328:"WhoSpunIt",309:"Puppy Love",341:"Greedy Goblins"};
function openLevelMessage(a,b,d){var c=100*b|0;setTimeout(function(){var b=$.fbc.getGamesConfig()[a],e=$.fbc.getGamesConfig()[a-1],k=$("#levelpopup .share"),m=function(){k.removeData("disabled").css("cursor","")},h=function(){$("#levelpopup").hide();m();var a=getLobbyFlashClient(window);a&&a.actionContinue();show_popan_ad("level")};if("undefined"===typeof e)h();else{var g=e.g%vgii;$("#levelpopup .popupwraper").removeClass("world coins finish simple");$("#levelpopup .sgame").empty();var n=25==a?{picture:"http://"+
$.fbc.getIUrl()+"/images/facebook/brag/finishlevel/worlds.jpg",name:"I am a SLOTS Hero!",caption:"I saved Slots Stories!",description:"Do you have what it takes to beat 24 of the most amazing SLOT MACHINES? Start the Adventure NOW",link:"http://"+$.fbc.config.iappUrl+"?reward="+d,action:freeCoinsButton,ref:"finishLevel"+(a-1)}:25<a?{picture:"http://"+$.fbc.getIUrl()+"/images/facebook/brag/lvu.jpg",name:"Level Completed!",caption:$.fbc.config.uname+" Beat Another Game in Slots Stories!",description:$.fbc.config.uname+
" just completed the game "+game_names[g]+" on Slots Stories and would like to Share some of the wealth! Click Here to receive 300 Bonus Coins Now! Only on Slots Stories!",link:"http://"+$.fbc.config.iappUrl+"?reward="+d,action:freeCoinsButton,ref:"finishLevel"+(a-1)}:{picture:"http://"+$.fbc.getIUrl()+"/images/facebook/brag/finishlevel/"+g+".jpg",name:"Level Completed!",caption:$.fbc.config.uname+" Beat Another Game in Slots Stories!",description:$.fbc.config.uname+" just completed the game "+game_names[g]+
" on Slots Stories and would like to Share some of the wealth! Click Here to receive 300 Bonus Coins Now! Only on Slots Stories!",link:"http://"+$.fbc.config.iappUrl+"?reward="+d,action:freeCoinsButton,ref:"finishLevel"+(a-1)};k.unbind().click(function(){!0!==k.data("disabled")&&(k.data("disabled",!0).css("cursor","default"),$.fbc.shareReward(n,d,m,m))});25==a?($("#levelpopup .popupwraper").addClass("finish"),showNumber(c,"mp22",$("#levelpopup .bonus .bonus-cont .amount").empty(),np,ne,!1)):25<a?
($("#levelpopup .popupwraper").addClass("simple"),$("#levelpopup .sgame").append($("<img src='/images/facebook/popups/finishlevel/"+g+"name.png' />"),$("<img src='/images/facebook/popups/finishlevel/simple/slot.png'/>")),showNumber(c,"mp22",$("#levelpopup .bonus .bonus-cont .amount").empty(),np,ne,!1)):(1===b.p&&($("#levelpopup .popupwraper").addClass("world"),$("#levelpopup .finishworld").css("background",'url("/images/facebook/popups/finishlevel/world'+e.w+'.png") no-repeat'),$("#levelpopup .nextworld").css("background",
'url("/images/facebook/popups/finishlevel/world'+b.w+'.png") no-repeat')),"undefined"!==typeof b.a&&($("#levelpopup .popupwraper").addClass("coins"),showNumber(b.a[0],"mp22",$("#levelpopup .newcoins .cvalue").empty(),np,ne,!0),$("#levelpopup .newcoins .caddit img").attr("src","/images/facebook/popups/finishlevel/coinmess"+a+".png")),$("#levelpopup .gamelogo").css("background",'url("/images/facebook/popups/finishlevel/'+g+'logo.png") no-repeat'),$("#levelpopup .gamename").attr("src","/images/facebook/popups/finishlevel/"+
g+"name.png"),showNumber(c,"mp22",$("#levelpopup .bonus .bonus-cont .amount").empty(),np,ne,!1),e=b.g%vgii,$("#levelpopup .gameicon").css("background",'url("/images/facebook/popups/finishlevel/'+e+'icon.png") no-repeat').unbind().click(function(){h();var a=getLobbyFlashClient(window);a&&a.startGameFromJS(b.g)}),$("#levelpopup .nextgame-cont .nextgamename").attr("src","/images/facebook/popups/finishlevel/"+e+"name.png"));$("#levelpopup .close").unbind().click(h);$("#levelpopup").show()}},0)}
function loadWorldMessage(a,b,d){var c="f"===b?"F":"S";$.ajax({url:$.fbc.getSUrl()+"/facebook/wmd.servlet",type:"POST",cache:!1,dataType:"json",data:{SID:$.fbc.getSid(),W:d,T:c},success:function(b){"undefined"!==typeof b.error||5<d||queueShowPopup(function(b){b=b||jQuery.noop;a.append($('<div id="wmpopup" class="unselectable"></div>').append($('<div class="flash-block"></div>'),$('<div class="popupwraper"></div>').append($('<div class="unselectable cont"></div>').append($("<div class='close' for='wmpopup'></div>").unbind("click").click(function(){var a=
$(this).attr("for");"undefined"!==typeof a&&$("#"+a).remove();b()}),$("<div class='mes'></div>").append("<img src='/images/facebook/popups/wm/w"+c.toLowerCase()+d+".png' />")))))},149)}})}
function loadSpPopup(a){var b=function(){$("#spdh-popup").remove()};a.append($("<div id='spdh-popup'></div>").append($("<div class='flash-block'></div>"),$("<div id='spdh-wraper' class='popupwraper'>").append($("<div id='spdh-cont' class='unselectable'>").unbind("click").click(function(){buyCredits();b()}).append($("<div class='sp_close' for='spdh-popup'></div>").unbind("click").click(b)))))}
function inviteSpecificFriend(a,b,d,c){function f(){var a=r.val();a&&(a=a.trim());r.queue(function(){a&&a!=n&&""!=a?(u.find(".fr-item .fr-name:not(:icontains('"+a+"'))").parent().hide(),u.find(".fr-item .fr-name:icontains('"+a+"')").parent().show()):u.find(".fr-item").show();r.dequeue();v.data("jsp").reinitialise()})}function e(a){var b=[];$.each(a,function(a,c){var d=jQuery.data(c,"uid");d&&b.push(d)});return b}function k(a){var b=!1;a&&a.to&&0<a.to.length&&$.each(a.to,function(a,c){var d=$("#mt-friend-items .jspContainer .jspPane").find(".fr-item[data-uid='"+
c+"']");d&&(d.remove(),b=!0)});b&&v.data("jsp").reinitialise()}function m(a){a&&0<a.length&&_sendInvite(a.join(","),g,k)}c=c||jQuery.noop;var h=$("#mt-dialog");if(!0!==h.data("suspend")){var g=$.fbc.messages.invite_teammate||$.fbc.messages.invite,n="Search for friends";$("#mt-cont .h .tmp").attr("src","/images/facebook/popups/invite/"+a+".png");$("#mt-cont .mes .tm").css("background",'url("/images/facebook/popups/invite/t'+a+'.png") no-repeat scroll center center transparent');$("#mt-cont .mes .mt").css("background",
'url("/images/facebook/popups/invite/mes'+a+'.png") no-repeat scroll center 0 transparent');$("#mt-cont .ptm").css("background",'url("/images/facebook/popups/wi/'+a+'.png") no-repeat scroll 0 0 transparent');var v=$("#mt-friend-items").empty();$.each(b,function(a,b){v.append($("<div class='fr-item'></div>").data(b).attr("data-uid",b.uid).append($("<div class='fr-img'></div>").css("background","url('http://graph.facebook.com/"+b.uid+"/picture?width=34&height=34') no-repeat scroll center center transparent"),
$("<div class='fr-backgr'></div>"),$("<div class='fr-name'></div>").html(b.name)).unbind("click").click(function(){$(this).toggleClass("selected")}))});h.show();v.jScrollPane({showArrows:!0,horizontalGutter:20,speed:48,contentWidth:"271px"});var r=$("#friends-search"),u=$("#mt-friend-items .jspContainer .jspPane");r.unbind().focus(function(){$(this).val()==n&&$(this).val("")}).blur(function(){""==$(this).val().trim()&&$(this).val(n)}).keypress(function(a){a&&13===a.keyCode&&f()});$("#mt-cont .search-apply").unbind().click(f);
$("#mt-cont .send").unbind().click(function(){m(e(u.find(".fr-item.selected:visible")))});$("#mt-cont .send-all").unbind().click(function(){m(e(u.find(".fr-item")))});$("#mt-cont .suspend").unbind().click(function(){$(this).toggleClass("selected")});$("#mt-cont .close").unbind().click(function(){$("#mt-cont .suspend").hasClass("selected")&&h.data("suspend",!0);try{v.data("jsp").destroy()}catch(a){}h.hide();"function"===typeof d&&d();c()})}}
function showMissing(a,b,d){function c(){$("#missing-cont .suspend").hasClass("selected")&&f.data("suspend",!0);f.hide()}var f=$("#missing-popup");if(!0!==f.data("suspend")){var e=$.fbc.messages.missing;$("#missing-cont .mtop .tm").attr("src","/images/facebook/popups/missing/h"+a+".png");$("#missing-cont .tmmess").css("background",'url("/images/facebook/popups/missing/grease'+a+'.png") no-repeat scroll 0 0 transparent');$("#missing-cont .logodiv .logo").css("background",'url("http://graph.facebook.com/'+
b+'/picture?width=117&height=117") no-repeat scroll center center transparent');$("#missing-cont .logodiv .name").html(d);$("#missing-cont .teammate").css("background",'url("/images/facebook/popups/wi/'+a+'.png") no-repeat scroll 0 0 transparent');$("#missing-cont .suspend").unbind().click(function(){$(this).toggleClass("selected")});$("#missing-cont .close").unbind().click(c);$("#missing-cont .send").unbind().click(function(){_innerSendBribes([b]);_sendInvite(b,e,c)});f.show()}}
function showInviteFriendPop(a){var b=$.fbc.getDayOfweek(),d=!1;if(3==b||6==b)1==$.fbc.getGamesCount()&&queueShowPopup(function(a,b){nInviteFriendsDialog(!0,a,b,d)},a),2==$.fbc.getGamesCount()&&queueShowPopup(function(a,b){showRecruitTeam(!0,a,b,d)},a);else{var c,f;if(2==b||5==b)d=!0,c=0,f=18E5;4==b&&(d=!0,c=3E5,f=15E5);7==b&&(c=3E5,f=9E5);1==b&&(c=15E5,f=27E5);null!=c&&setTimeout(function(){queueShowPopup(function(a,b){nInviteFriendsDialog(!0,a,b,d)},a)},c);null!=f&&setTimeout(function(){queueShowPopup(function(a,
b){showRecruitTeam(!0,a,b,d)},a)},f)}}
function showRecruitTeam(a,b,d,c){var f,e;function k(a,b){b=!0===b;n.queue(t,function(){var c=this,d=function(){$(c).dequeue(t)};a(b?d:void 0);!b&&d()});1===n.queue(t).length&&n.dequeue(t)}function m(c,d){c&&(f=c);d&&(e=d);f&&e&&(!0===a&&0>=e.resp.length?(n.removeData("loaded"),b()):$("#recruit-dialog").is(":visible")?b():(n.removeData("loaded"),g(f,e,b)))}function h(a,b){var c=$("#recruit-items"),d=c.data("jsp");d&&(c=d.getContentPane());var d=n.data("last"),e=void 0,f=0;d&&(d.row&&(e=d.row),d.ind&&
(f=d.ind));$.each(a.resp,function(a,b){0===(a+f)%7&&(e&&e.appendTo(c),e=$('<div class="tm-row"></div>'));var d=$('<div class="tm-item unselectable"></div>').attr("data-uid",b.uid).data("uid",b.uid).append($('<div class="check"></div>'),$('<div class="logo"></div>').css("background","url('http://graph.facebook.com/"+b.uid+"/picture?width=34&height=34') no-repeat scroll center center transparent"),$('<div class="name-panel"></div>').append($('<div class="name">'+b.name+"</div>"))).appendTo(e).unbind("click").click(function(){var a=
$(this);k(function(){var b=a.toggleClass("selected").data("uid"),c=n.data("selected");c[b]=!c[b]})});!0===n.data("sended")[b.uid]?d.addClass("sended").unbind():!0===n.data("selected")[b.uid]&&d.addClass("selected")});f=(f+a.resp.length)%7;e&&e.not(":empty")&&e.appendTo(c);n.data("last",{row:e,ind:f});a.hasNext()&&k(function(b){$.fbc.fql.getFriendsWithPaging(function(a){h(a,b)&&$("#recruit-items").data("jsp")&&$("#recruit-items").data("jsp").reinitialise()},v,r,void 0,a.next,$.fbc.fql.itertype.next)},
!0);"function"===typeof b&&b();return 0<a.resp.length}function g(a,b,c){function d(a){if(a&&0<a.length){var b=function(a,c,d,f){if(c!=d){var g=Math.min(c+f,d);c=a.slice(c,g);_sendInvite(c.join(","),e,function(c){if(c&&c.to&&0<c.to.length){c=c.to;var e=$("#recruit-items"),h=n.data("sended"),k=n.data("selected");$.each(c,function(a,b){h[b]=!0;k[b]=!1;var c=e.find('[data-uid="'+b+'"]');c&&c.removeClass("selected").addClass("sended").unbind()})}b(a,g,d,f)})}};b(a,0,a.length,50)}}var e=$.fbc.messages.invite;
$.each(a,function(a,b){$("#recruit-cont .team .tm"+a).find(".logo").css("background","url('http://graph.facebook.com/"+b.id+"/picture?width=79&height=75') no-repeat scroll center center transparent").end().find(".name").html(b.name)});k(function(){$("#recruit-items").empty();h(b)});$("#recruit-cont .bpanel").hide();$("#recruit-cont .close").unbind("click").click(function(){try{$("#recruit-items").data("jsp").destroy()}catch(a){}$("#recruit-dialog").hide();"function"===typeof c&&c()});!0===u&&($("#recruit-cont .suspend").show(),
$("#recruit-cont .suspend").unbind().click(function(){$(this).toggleClass("selected")}),n.data("selected",{}));$("#recruit-cont .send").unbind("click").click(function(){k(function(){n.data("inprogress",!0);var a=n.data("selected"),b=[];$.each(a,function(a,c){!0===c&&b.push(a)});d(b);n.data("inprogress",!1)})});$("#recruit-cont .select").unbind().click(function(){var a=$(this);a.hasClass("all")?k(function(){$("#recruit-items .tm-item:not(.selected,.sended)").each(function(){var a=$(this).addClass("selected").data("uid");
n.data("selected")[a]=!0});a.removeClass("all").addClass("none")}):k(function(){$("#recruit-items .tm-item.selected").each(function(){var a=$(this).removeClass("selected").data("uid");n.data("selected")[a]=!1});a.removeClass("none").addClass("all")})}).removeClass("none").addClass("all");$("#recruit-dialog").show();$("#recruit-items").jScrollPane({showArrows:!1,horizontalGutter:20,speed:105})}b=b||jQuery.noop;a=a||!1;if(c&&gameopened)b();else{var n=$("#recruit-dialog");if(n.is(":visible")||!0===n.data("loaded"))b();
else{n.data("loaded",!0);var v=void 0,r=!1,u,t="rcdl";e=f=void 0;jQuery.queue(n,t,[]);n.data("selected",{});n.data("sended",{});n.removeData("last");$.fbapi.getTeamAsync(function(a){a.team&&m(a.team)});$.fbc.fql.getFriendsWithPaging(function(a){m(void 0,a)},v,r)}}}
function showApprovedTeammate(a,b,d,c,f){function e(){h.removeData("disabled").css("cursor","")}function k(){$("#apprtm-dialog").hide();e();var a=getLobbyFlashClient(window);a&&a.actionContinue();show_popan_ad("approved_team")}0<=b&&7>b&&$("#apprtm-cont .teammate").css("background",'url("/images/facebook/popups/wi/'+b+'.png") no-repeat scroll 0 0 transparent');$("#apprtm-cont .teamimg .mepic").css("background",'transparent url("http://graph.facebook.com/'+a+'/picture?width=117&height=117") no-repeat scroll center center');
$("#apprtm-cont .toteam .n").html(d);$("#apprtm-cont .teambonus").html((c/100).toFixed(0));var m={picture:"http://"+$.fbc.getIUrl()+"/images/facebook/brag/lvu.jpg",name:"I Have A New Team Member!",caption:"I was recruited to "+d+"'s Team! Here is "+(c/100).toFixed(0)+" FREE BONUS COINS!!!",description:"My team is filling up fast, who's going to beat Slots Stories with me? Only a few Spots are left on my team!!!",link:"http://"+$.fbc.config.iappUrl+"?reward="+f,action:freeCoinsButton,ref:"apprTeammate"},
h=$("#apprtm-cont .share");$("#apprtm-cont .close").unbind().click(k);h.unbind().click(function(){!0!==h.data("disabled")&&(h.data("disabled",!0).css("cursor","default"),$.fbc.shareReward(m,f,k,e))});$("#apprtm-dialog").show()}
function inviteTeammate(a,b,d){function c(){var a=$("#invite-teammate-friend-items .jspContainer .jspPane"),b=n.val();b&&(b=b.trim());n.queue(function(){b&&b!=h&&""!=b?(a.find(".fr-item .fr-name:not(:icontains('"+b+"'))").parent().hide(),a.find(".fr-item .fr-name:icontains('"+b+"')").parent().show()):a.find(".fr-item").show();n.dequeue();$("#invite-teammate-friend-items").data("jsp").reinitialise()})}function f(a){var b=[];$.each(a,function(a,c){var d=jQuery.data(c,"uid");d&&b.push(d)});return b}
function e(a){var b=!1;a&&a.to&&0<a.to.length&&$.each(a.to,function(a,c){var d=$("#invite-teammate-friend-items .jspContainer .jspPane").find(".fr-item[data-uid='"+c+"']");d&&(d.remove(),b=!0)});b&&$("#invite-teammate-friend-items").data("jsp").reinitialise()}function k(a){a&&0<a.length&&_sendInvite(a.join(","),m,e)}var m=$.fbc.messages.invite_teammate||$.fbc.messages.invite,h="Search for friends";$("#invite-teammate-cont .mes .tm").css("background",'url("/images/facebook/popups/inviteteammate/ith'+
a+'.png") no-repeat scroll center center transparent');$("#invite-teammate-cont .mes .mt").css("background",'url("/images/facebook/popups/invite/mes'+a+'.png") no-repeat scroll center 0 transparent');$("#invite-teammate-cont .ptm").css("background",'url("/images/facebook/popups/wi/'+a+'.png") no-repeat scroll 0 0 transparent');var g=$("#invite-teammate-friend-items").empty();$.each(b,function(a,b){g.append($("<div class='fr-item'></div>").data(b).attr("data-uid",b.uid).append($("<div class='fr-img'></div>").css("background",
"url('http://graph.facebook.com/"+b.uid+"/picture?width=34&height=34') no-repeat scroll center center transparent"),$("<div class='fr-backgr'></div>"),$("<div class='fr-name'></div>").html(b.name)).unbind("click").click(function(){$(this).toggleClass("selected")}))});var n=$("#invite-teammate-cont .friends-search");n.unbind().focus(function(){$(this).val()==h&&$(this).val("")}).blur(function(){""==$(this).val().trim()&&$(this).val(h)}).keypress(function(a){a&&13===a.keyCode&&c()});$("#invite-teammate-cont .search-apply").unbind().click(c);
$("#invite-teammate-cont .send").unbind().click(function(){k(f($("#invite-teammate-friend-items .jspContainer .jspPane").find(".fr-item.selected:visible")))});$("#invite-teammate-cont .send-all").unbind().click(function(){k(f($("#invite-teammate-friend-items .jspContainer .jspPane").find(".fr-item")))});$("#invite-teammate-cont .close").unbind().click(function(){try{g.data("jsp").destroy()}catch(a){}$("#invite-teammate-dialog").hide();"function"===typeof d&&d()});$("#invite-teammate-dialog").show();
g.jScrollPane({showArrows:!0,horizontalGutter:20,speed:48,contentWidth:"271px"})}
function showTimeBonus(a,b,d,c){setTimeout(function(){$("#tb-cont .b .a").html(a.toFixed(0));var b="undefined"===typeof c?void 0:$.fbc.getTimeBonusConfig()[c];if("undefined"===typeof b)$("#tb-cont .n").hide();else{$("#tb-cont .n").show();var d=$("#tb-cont .n .tp").empty(),k=b.w,m=0!=k%60;60<=k&&d.append(showNumber(100*(k/60|0),"mp22",$("<div class='pn'></div>"),np,ne),$("<div class='hr'></div>"));m&&d.append(showNumber(100*(k%60),"mp22",$("<div class='pn'></div>"),np,ne),$("<div class='min'></div>"));
showNumber(100*b.m,"mp22",$("#tb-cont .m").empty(),np,ne)}b=function(){$("#tb-popup").hide();var a=getLobbyFlashClient(window);if(a)return a.actionContinue();show_popan_ad("time")};$("#tb-cont .s").unbind().click(b);$("#tb-cont .close").unbind().click(b);$("#tb-popup").show()},0)}var tn={0:"Wingman",1:"Safe Cracker",2:"Muscle",3:"Look Out",4:"Insider",5:"Hacker",6:"Get Away Driver"};
function showHasNewTeammate(a,b,d,c){function f(){h.removeData("disabled").css("cursor","")}function e(){$("#hnt-popup").hide();f();var a=getLobbyFlashClient(window);a&&a.actionContinue();show_popan_ad("new_team")}$("#hnt-cont");if(0>a||"undefined"===typeof tn[a])a="r";var k=tn[a]||"Ringer";$("#hnt-cont .tm").empty().append($('<img src="../../images/facebook/popups/nteammate/w'+a+'.png"/>'),$('<img src="../../images/facebook/popups/nteammate/..png"/>'));showNumber(b,"bs",$("#hnt-cont .ern").empty(),
np,ne,!1,void 0,"bsc");a=d-b;$("#hnt-cont .prb").empty().text((a/100).toFixed(2));$("#hnt-cont .bal").empty().text((b/100).toFixed(2));$("#hnt-cont .nwb").empty().text((d/100).toFixed(2));$("#hnt-popup").show();var m={picture:"http://"+$.fbc.getIUrl()+"/images/facebook/brag/lvu.jpg",name:"Team Member Added",caption:"I Now Have A "+k+" On My Team!",description:"My team is filling up fast, who's going to beat Slots Stories with me? Only a few Spots are left on my team!!!",link:"http://"+$.fbc.config.iappUrl+
"?reward="+c,action:freeCoinsButton,ref:"hasNewTeammate"},h=$("#hnt-cont .share");$("#hnt-cont .close").unbind().click(e);h.unbind().click(function(){!0!==h.data("disabled")&&(h.data("disabled",!0).css("cursor","default"),$.fbc.shareReward(m,c,e,f))});$("#hnt-popup").show()}
function openMessageWORW(a,b,d,c,f){function e(){$("#bonus-popup").hide().removeClass("worw");f();var a=getLobbyFlashClient(window);a&&a.actionContinue();show_popan_ad("bonus")}c||(c=0);f=f||jQuery.noop;$("#bonus-cont .prb").empty().text(a.toFixed(2));$("#bonus-cont .bal").empty().text(b.toFixed(2));$("#bonus-cont .nwb").empty().text(d.toFixed(2));$("#bonus-cont .frspnamount").empty().text(c);$("#bonus-cont .close").unbind().click(e);$("#bonus-cont .share").unbind().click(e);a=$("#bonus-popup").removeClass("coinsbonus frspnbonus").addClass("worw");
0<b&&a.addClass("coinsbonus");0<c&&a.addClass("frspnbonus");a.show()}
function openMessage(a,b,d,c,f,e){function k(){g.removeData("disabled").css("cursor","")}function m(){$("#bonus-popup").hide();e();k();var a=getLobbyFlashClient(window);a&&a.actionContinue();show_popan_ad("bonus")}f||(f=0);e=e||jQuery.noop;$("#bonus-cont .prb").empty().text(a.toFixed(2));$("#bonus-cont .bal").empty().text(b.toFixed(2));$("#bonus-cont .nwb").empty().text(d.toFixed(2));$("#bonus-cont .frspnamount").empty().text(f);var h={name:"Bonus Awarded",link:"http://"+$.fbc.config.iappUrl+"?reward="+
c,picture:"http://"+$.fbc.getIUrl()+"/images/facebook/brag/lvu.jpg",ref:"bonusAwarded",description:""};a=0<b;f=0<f;a&&f?(h.caption="Free Coins & Spins for 10 Friends Only "+$.fbc.config.uname+" Just collected a massive combo in Slots Stories! Use these FREE SPINS & COINS to help "+$.fbc.config.uname+" WIN!",h.action=freeSpinsAndCoinsButton):a?(h.caption=$.fbc.config.uname+" was awarded Bonus Coins through Slots Stories and would like to Share the wealth with some of his friends! Click Below to collect 300 Bonus Coins!",
h.action=freeCoinsButton):f&&(h.caption="Free Spins for the First 5 Clickers "+$.fbc.config.uname+" Just collected FREE SPINS in Slots Stories! Use these FREE SPINS to help "+$.fbc.config.uname+" WIN!",h.action=freeSpinsButton);var g=$("#bonus-cont .share");$("#bonus-cont .close").unbind().click(m);g.unbind().click(function(){!0!==g.data("disabled")&&(g.data("disabled",!0).css("cursor","default"),$.fbc.shareReward(h,c,m,k))});b=$("#bonus-popup");b.removeClass("coinsbonus frspnbonus");a&&b.addClass("coinsbonus");
f&&b.addClass("frspnbonus");b.show()}
function showFinishVIPGame(a,b,d){function c(){e.removeData("disabled").css("cursor","")}var f=a%vgii,e=$("#vipgamefinish .share"),k={picture:"http://"+$.fbc.getIUrl()+"/images/facebook/brag/lvu.jpg",name:"Clobbered The Slots",caption:"I just defeated "+game_names[f]+", here are free coins to come beat the slots with me!",description:"",link:"http://"+$.fbc.config.iappUrl+"?reward="+d,action:freeCoinsButton,ref:"finishVip"+a},m=function(){$("#vipgamefinish").hide();c();var a=getLobbyFlashClient(window);
a&&a.actionContinue();show_popan_ad("vip")};$("#vipgamefinish .gamename").empty().append($("<img src='/images/facebook/popups/vgf/"+f+".png'>"),$("<img src='/images/facebook/popups/vgf/!.png'>"));showNumber(b,"bs",$("#vipgamefinish .bonus").empty(),np,ne).append($("<img src='/images/facebook/popups/vgf/bonuscoins.png'>"));$("#vipgamefinish .gameicon").css("background",'url("/images/facebook/popups/vgf/icon_'+f+'.png")');$("#vipgamefinish .close").unbind().click(m);$("#vipgamefinish").show();e.unbind().click(function(){!0!==
e.data("disabled")&&(e.data("disabled",!0).css("cursor","default"),$.fbc.shareReward(k,d,m,c))})}function showOLReload(){$("#olreload .reload").unbind().click(function(){reopen()});$("#olreload").show()}
function showMarked(a,b){function d(){var a=getLobbyFlashClient(window);a&&a.actionContinue();b()}b=b||jQuery.noop;"pl12"===a?($("#ol12promo .close").unbind().click(function(){$("#ol12promo").hide();d()}),$("#ol12promo").show()):"pl34"===a?($("#ol34promo .close").unbind().click(function(){$("#ol34promo").hide();d()}),$("#ol34promo").show()):d()}
function showMission(a,b){b=b||jQuery.noop;var d=function(){$("#mission").hide();b()};if(unlockgameopened)b();else{$("#mission .close").unbind().click(function(){d()});$("#mission .cont").removeClass("finish");if(24<a)$("#mission .cont").addClass("finish");else{var c=$.fbc.getGamesConfig()[a],f=c?c.g:void 0;$("#mission .mes").css("background","url('/images/facebook/popups/mission/m"+a+".png')");$("#mission .gameopen").unbind().click(function(){d();if(f){var a=getLobbyFlashClient(window);a&&a.startGameFromJS(f)}})}$("#mission").show()}}
function showFreespinsLobby(){jQuery.fbapi.getFreeSpinsState(function(a){if("undefined"!==typeof a.r)if(0>=a.r.fsc)showBuyFreeSpins();else{var b=function(a,b,c){a&&$.each(a,function(a,d){var e={g:d};c&&c==d&&(e.t="demo");b.push(e)})};a=a.r;var d={worlds:[],vip:[]},c=a.demo;b(a.v,d.vip,c);b(a.w,d.worlds,c);$("#fspopup").data("conf",d);var f=function(){try{$("#fsgamespanel").data("jsp").destroy()}catch(a){}$("#fspopup").hide()},e=function(a){var b=$("#fspopup").data("conf");a="w"==a?b.worlds:b.vip;
var c,d=$("#fsgamespanel");(b=d.data("jsp"))&&(d=b.getContentPane());d.empty();$.each(a,function(a,b){c&&0!=a%6||(c&&c.appendTo(d),c=$("<div class='row'></div>"));var e=$("<div class='gamei'><div class='gplayb'></div><div class='gicon' style='background: url(/images/facebook/popups/freespins/icon"+b.g%vgii+".png)'></div><div class='gplay' g="+b.g+(b.t&&"demo"===b.t?" d='true'":"")+"></div></div>");e.data(b);e.appendTo(c)});c&&c.not(":empty")&&c.appendTo(d);$("#fsgamespanel .gplay").unbind().click(function(){var a=
$(this).attr("g"),b=$(this).attr("d"),c=getLobbyFlashClient(window);c&&(f(),c.startGameFromJS(a,"true"==b?"fsdm":"fs"))});b&&b.reinitialise()};e("w");$("#fspopup-wraper .close").unbind().click(f);var k=$("#fstabspanel"),b=k.find(".tabi");b.unbind().click(function(){if(!$(this).hasClass("active")){var a=$(this).attr("n");e(a);k.find(".tabi.active").removeClass("active");k.toggleClass("tabb");$(this).addClass("active")}}).removeClass("active");k.removeClass("tabb");b.first().addClass("active");showNumber(100*
a.fsc,"bs",$("#fsavaili .count").empty(),np,ne,!1);$("#fspopup").show();$("#fsgamespanel").jScrollPane({showArrows:!1,horizontalGutter:20,speed:127})}})}
function showBuyFreeSpins(){function a(){$("#fspurch").hide()}$("#fspurch-wraper .item").unbind().click(function(){var b=$(this).attr("i");b&&jQuery.fbc.nMakeBuyIn(b,jQuery.fbc.typesProducts.freeSpins,function(b){b.r&&!0===b.r.finished&&((b=getLobbyFlashClient(window))&&b.forceSync(),a())})});$("#fspurch-wraper .close").unbind().click(a);$("#fspurch").show()}
function showMyBribe(){$.fbapi.getBribes(function(a){var b=!1;$("#gift-items").empty();$.each(a.gifts,function(a,d){b=!0;var e=$('<div class="gift-item"></div>');$('<div class="gift-item-text">'+d.name+" has sent you a special bribe!</div>").appendTo(e);$('<div class="gift-item-button gift-active-button"></div>').data(d).addClass(d.canGiveHim?"gift-send-button":"gift-accept-button").appendTo(e);e.appendTo($("#gift-items"))});$("#gift-items .gift-active-button").click(function(){var a=$(this),b=$(this).data();
$.fbapi.acceptBribe(function(b){a.removeClass("gift-active-button");b.gift.ans?(a.addClass("gift-inactive-button"),toFlbribesSentToFriends(b.gift.s.id)):a.addClass("gift-accepted-button");a.parent(".gift-item").find(".gift-item-text").text(b.gift.s.name+" has sent you "+b.gift.a+" coins!");a.unbind()},b.id,b.canGiveHim)});$("#gifts-close").unbind().click(function(){var a=0;$.each($("#gift-items .gift-active-button"),function(){a++});var d=getLobbyFlashClient(window);d&&d.myBribesClosed(a);$("#gift-items").data("jsp").destroy();
$("#mygifts").hide();b&&show_popan_ad("bribes")});$("#mygifts").show();try{$("#gift-items").jScrollPane({showArrows:!1,horizontalGutter:20,speed:49})}catch(d){}})}function openAnnouncementMessage(a,b,d){if(a=getLobbyFlashClient(window))return a.actionContinue()}function sEarnCoins(){$.fbc.earn()}
function sendBribes(){$.fbapi.getFriends4SendBribe(function(a){$("#fgifts_select_all").off("click").click(function(){$("#freegiftslock").show();$("#fgift-items .jspContainer .jspPane").find(".fgift-item:visible").addClass("selected");$("#fgift-items").data("jsp").reinitialise();$("#freegiftslock").hide()});$("#sendfreegifts").off("click").click(function(){$("#freegiftslock").show();var a=$("#fgift-items .jspContainer .jspPane").find(".fgift-item.selected:visible"),b=[];$.each(a,function(a,d){var k=
jQuery.data(d,"uid");k&&b.push(k)});0<b.length&&send4Friends(b);$("#freegiftslock").hide()});$("#fgifts-close").off("click").click(function(){$("#fgift-items").data("jsp").reinitialise();$("#fgift-items").empty();$("#freegiftslock").hide();$("#sendFreeGiftsPopup").hide()});$("#gslots").data("t","s");$("#fgiftsfilter").off("focus").focus(function(){$(this).val()==searchdeffgfriends&&$(this).val("")}).off("blur").blur(function(){""==$(this).val().trim()&&$(this).val(searchdeffgfriends)});$("#fgiftsfilter_apply").off("click").click(function(){$("#freegiftslock").show();
var a=$("#fgiftsfilter").val();a&&(a=a.trim());var b=$("#fgift-items .jspContainer .jspPane");a&&a!=searchdeffgfriends?(b.find("span.fusername:not(:icontains('"+a+"'))").parent().hide(),b.find("span.fusername:icontains('"+a+"')").parent().show()):b.find(".fgift-item").show();$("#fgift-items").data("jsp").reinitialise();$("#freegiftslock").hide();return!1});$("#freegiftslock").show();$("#sendFreeGiftsPopup").show();try{$("#fgift-items").jScrollPane({showArrows:!1,horizontalGutter:20,speed:21})}catch(b){}$("#fgpanel").removeClass("gother");
a&&a.friends&&a.friends instanceof Array&&(a=a.friends,$("#fgift-items .jspContainer .jspPane").empty(),$.each(a,function(a,b){$('<div class="fgift-item"/>').attr("data-uid",b.id).data("uid",b.id).append($('<span class="fuser-check"/>'),$('<span class="fusername"/>').text(b.name)).appendTo("#fgift-items .jspContainer .jspPane")}),$(".fgift-item").click(function(){$(this).toggleClass("selected")}),(a=$("#fgift-items").data("jsp"))&&a.reinitialise());$("#freegiftslock").hide()})}
var priorityQueue=function(a){return{_maxkey:"number"==typeof a?a:999,_top:{prev:void 0,key:this._maxkey},length:0,addItem:function(a,d){for(var c={key:d,entry:a},f=this._top,e=f.prev;e;){if(e.key<d)return f.prev=c,c.prev=e,this.length++,this.length;f=e;e=f.prev}f.prev=c;return this.length++},getTop:function(){return this._top.prev?this._top.prev.entry:void 0},removeItem:function(a,d){for(var c=this._top,f=c.prev;f&&f.key>=d;){if(f.key===d&&f.entry===a)return c.prev=f.prev,delete f,this.length--,
!0;c=f;f=c.prev}return!1},getLength:function(){return this.length}}},_popupsqueue=_popupsqueue||$.extend(new priorityQueue,{showedCount:0});
function queueShowPopup(a,b,d){d=d||!1;var c=function(){var a;0>=_popupsqueue.showedCount&&(a=_popupsqueue.getTop())&&!a.onshow&&(a.onshow=!0,_popupsqueue.showedCount=1,a.show(a.close,f.prior))},f={onshow:!1,show:a,prior:"undefined"!=typeof b?b:0,close:function(){_popupsqueue.removeItem(f,f.prior);_popupsqueue.showedCount--;c()}};_popupsqueue.addItem(f,f.prior);d?(f.onshow=!0,_popupsqueue.showedCount++,f.show(f.close,f.prior)):c()}
jQuery.fbapi=jQuery.fbapi||{_e:void 0,init:function(a){function b(a){function b(a){var d=typeof a;if(null===a||"undefined"===d)return null;if("object"===d){var f=[],h=a&&a.constructor==Array;$.each(a,function(a,d){var e=typeof d;"undefined"!==e&&null!==d&&("string"===e?d='"'+d+'"':"object"===e&&(d=b(d)),f.push((h?"":'"'+a+'":')+String(d)))});return(h?"[":"{")+f.join(",")+(h?"]":"}")}return"string"===d?'"'+a+'"':a}var f={uid:null,name:null,sid:null,sUrl:null};a&&$.extend(f,a);this.requests={getteam:"getteam",
vacant_teammate:"vacant_teammate",missing_teammate:"missing_teammate",get_daily_bonus_config:"daily_config",get_daily_spins_count:"daily_spins_count",approve_share_reward:"shared_reward",get_gifts:"getgifts",accept_gift:"accept_gift",create_gift:"create_gift",get_depos_config:"depos_config",add_marker:"am",demo_config:"demo_config",get_config:"gc",get_frspn:"frspcn",get_friends4_send_bribe:"bribe_friends",get_friends_invite:"get_friends_invite",cashier_config:"cashier_config",buy:"buy",buyanswer:"buyanswer"};
this.fasRequest=function(a,d,m,h){h=h&&"undefined"!==typeof h?b(h):null;!1!==m&&(m=!0);var g;d=m?d:function(a){g=a};"undefined"===typeof d&&(d=function(){});$.ajax({url:f.sUrl+"/facebook/fas.servlet",type:"POST",async:m,cache:!1,dataType:"json",data:{s:f.sid,c:a,p:h},success:d});return g};return this}!this._e&&(this._e=new b(a))},getTeamAsync:function(a){return this._e.fasRequest(this._e.requests.getteam,a)},getVacantTeammateAsync:function(a){return this._e.fasRequest(this._e.requests.vacant_teammate,
a)},getMissingTeammateAsync:function(a){return this._e.fasRequest(this._e.requests.missing_teammate,a)},getDailyBonusConfigAsync:function(a){return this._e.fasRequest(this._e.requests.get_daily_bonus_config,a)},getDailySpinsCount:function(a){return this._e.fasRequest(this._e.requests.get_daily_spins_count,a)},processShareReward:function(a,b){return this._e.fasRequest(this._e.requests.approve_share_reward,callback,!0,{p:a,k:b})},getBribes:function(a){return this._e.fasRequest(this._e.requests.get_gifts,
a)},acceptBribe:function(a,b,d){return this._e.fasRequest(this._e.requests.accept_gift,a,!0,{s:b,a:d})},sendBribe:function(a,b){var d=!1;if("undefined"===typeof b||(d=b.constructor==Array)&&0===b.length)"undefined"!==typeof a&&a({ids:[]});else return d||(b=[b]),this._e.fasRequest(this._e.requests.create_gift,a,!0,{to:b})},getDepositConfig:function(a,b){return this._e.fasRequest(this._e.requests.get_depos_config,a,!0,{t:b})},addMarker:function(a,b){return this._e.fasRequest(this._e.requests.add_marker,
a,!0,{m:b})},demoConfig:function(a){return this._e.fasRequest(this._e.requests.demo_config,a)},getConfig:function(a){return this._e.fasRequest(this._e.requests.get_config,a)},getFreeSpinsState:function(a){return this._e.fasRequest(this._e.requests.get_frspn,a)},getFriends4SendBribe:function(a){return this._e.fasRequest(this._e.requests.get_friends4_send_bribe,a)},getFriendsInvite:function(a){return this._e.fasRequest(this._e.requests.get_friends_invite,a)},getCashierConfig:function(a){return this._e.fasRequest(this._e.requests.cashier_config,
a)},buy:function(a,b){return this._e.fasRequest(this._e.requests.buy,a,!0,b)},buyanswer:function(a,b){return this._e.fasRequest(this._e.requests.buyanswer,a,!0,b)}};
function showNewCashier(a,b){function d(){$("#cashierpopup").data("load",!0);$.fbapi.getCashierConfig(function(b){function f(a,b){b=b||!1;var c="";1E3<=a&&(c=f(a/1E3>>0,!0)+",");var d=a%1E3>>0;""!=c&&100>d&&(c+="0",10>d&&(c+="0"));c+=d.toFixed(0);b||(d=(100*c>>0)%100,0<d&&(c+=","+d.toFixed(0)));return c}function e(a){return $('<div class="item"><span class="pl">+ </span><span class="val">'+a+"</span></div>")}function k(){var a=$(this).data("i");$("#cashier .close").removeData("compldep");var b=function(){$("#cashier .close").data("compldep",
!0);setTimeout(function(){var a=getLobbyFlashClient(window);a&&a.forceSync()},500);d()};jQuery.fbc.nMakeBuyIn(a,jQuery.fbc.typesProducts.cashier,function(a){a.r&&!0===a.r.finished&&b(a)})}$("#cashier").removeClass("vip");b.r.v&&$("#cashier").addClass("vip");var m;jQuery.each(b.r.c,function(a,b){var c=$("#cashier .p"+a).empty();c.append($('<div class="amount-cont"><span class="val"></span><span class="obj"> COINS</span></div><div class="v-cont"><div class="symb"></div><div class="items"></div></div><div class="price"><span class="cursymb">$</span><span class="val"></span><span class="curname"> USD</span></div><div class="purchase"></div>'));
void 0!==b.oa?(c.append($('<div class="line"></div>')).append($('<span class="newval"></span>')),c.find(".amount-cont .val").html(f(b.oa/100)),c.find(".newval").html(f(b.a/100))):c.find(".amount-cont .val").html(f(b.a/100));var d="";if(void 0!==m){var r="% ";c.append($('<div class="best"></div>'));switch(a){case "2":d="";r+=" FREE!";break;case "3":d="+";r+=" More!";break;case "4":d="+";r+=" Free!";break;case "5":d="+";r+=" Coins!";break;case "6":d="",r="Professional!"}var u;u=""+d;if(6!=a){var t=
b.a,B=b.c*m,J=t-B,d="+"==d?Math.ceil(100*J/B):Math.ceil(100*J/t);u+=d}u+=r;c.find(".best").html(u)}else m=b.a/b.c;c.find(".price .val").html(f(b.c/100));c.find(".purchase").data("i",b.i).unbind().click(k);r=c.find(".v-cont").removeClass("multi").find(".items").empty();"undefined"!==typeof b.am&&1<b.am?(c.find(".v-cont").addClass("multi"),r.append($('<div class="mpl"><div class="x"><span>x</span></div><div class="val">'+b.am.toFixed(0)+"</div></div>"))):(b.vr&&0<b.vr?(c=b.vr/6048E5,r.append(e(0==c%
4?(c/4>>0).toFixed(0)+" Month":c.toFixed(0)+" Week"+(1<c?"s":"")))):!0===b.ov&&r.append(e("Lifetime")),"undefined"!==typeof b.uc&&r.append(e("Unlock "+("all"===b.uc?"All Coins":"Next "+(1<b.uc?b.uc+" Coins":"Coin")))),"undefined"!==typeof b.l&&r.append(e("Unlock "+("all"===b.l?"All Levels":"Next "+(1<b.l?b.l+" Levels":"Level")))))});$("#cashier .close").unbind().click(function(){var b=$("#cashier .close").data("compldep");$("#cashierpopup").hide();a();!0!==b&&$.ajax({url:$.fbc.getSUrl()+"/facebook/gdc.servlet",
dataType:"json",type:"POST",data:{s:$.fbc.config.sid,t:"m"},success:function(a){loadMicroPopup($("#popupsdiv"),a)}})});$("#cashierpopup").removeData("load");$("#cashierpopup").show()})}a=a||jQuery.noop;$("#cashierpopup").is(":visible")||!0===$("#cashierpopup").data("load")?a():d()}function showVIPWasClosed(){gameopened?(popups.viprentexpired.displayed=!0,canDisplayPopups("viprentexpired")):showVRE()}
function showVIPWasClosed(){gameopened?(popups.viprentexpired.displayed=!0,canDisplayPopups("viprentexpired")):showVRE()}function startGameLobby(a){var b=getLobbyFlashClient(window);b&&a&&b.startGameFromJS(a)}function showVRE(){$("#expiredVIPRent .close").unbind().click(function(){$("#expiredVIPRent").hide()});$("#expiredVIPRent").show()}
function newUnlockedGame(a){a=a||jQuery.noop;var b=$("#new-game-popup"),d=function(){$("#unloked-game").hide();a()};b.find(".play").unbind().click(function(){unlockgameopened=!0;var a=getLobbyFlashClient(window);a&&a.startGameFromJS(309,"dm");d()});b.find(".close").unbind().click(d);$("#unloked-game").show()}
var show_popan_ad=show_popan_ad||function(){function a(a){function f(){d?_sa.push(["displayAd"]):_sa.push(["initialize",a],["displayAd"])}b?f():(b=!0,d&&_sa.push(["initialize",a]),$.getScript("//admin.appnext.com/annojq.js",f))}window._sa=window._sa||[];var b=!1,d="69866867-49f1-493f-9b62-3cf9a3b2d169";return function(b){"time"!=b&&"approved_team"!=b&&"bonus"!=b&&"vip"!=b&&"new_team"!=b&&"cashier"!=b&&"bribes"!=b&&"level"!=b||a(d)}}();
