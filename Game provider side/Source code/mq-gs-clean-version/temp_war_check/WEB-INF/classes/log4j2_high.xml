<?xml version="1.0" encoding="UTF-8"?>
<Configuration>
    <Appenders>
        <Console name="CONSOLE" target="SYSTEM_OUT">
            <PatternLayout pattern="%d{dd.MM.yyyy HH:mm:ss,SSS} %-5p [%c{1} %t] %m%n" />
        </Console>
        <RollingMemoryMappedFile name="ERROR" fileName="STDOUTerror.log" filePattern="STDOUTerror.log.%i" immediateFlush="false">
            <PatternLayout pattern="%d{dd.MM.yyyy HH:mm:ss,SSS} %-5p [%c{1} %t] %m%n" />
            <Policies>
                <OnStartupTriggeringPolicy />
                <SizeBasedTriggeringPolicy size="100 MB"/>
            </Policies>
            <DefaultRolloverStrategy max="10"/>
        </RollingMemoryMappedFile>

        <RollingMemoryMappedFile name="COMMON" fileName="STDOUTcommon.log" filePattern="STDOUTcommon.log.%i" immediateFlush="false">
            <PatternLayout pattern="%d{dd.MM.yyyy HH:mm:ss,SSS} %-5p [%c{1} %t] %m%n" />
            <Policies>
                <OnStartupTriggeringPolicy />
                <SizeBasedTriggeringPolicy size="100 MB"/>
            </Policies>
            <DefaultRolloverStrategy max="10"/>
        </RollingMemoryMappedFile>

        <RollingMemoryMappedFile name="SIS" fileName="STDOUTsis.log" filePattern="STDOUTsis.log.%i" immediateFlush="false">
            <PatternLayout pattern="%d{dd.MM.yyyy HH:mm:ss,SSS} %-5p [%c{1} %t] %m%n"/>
            <Policies>
                <OnStartupTriggeringPolicy/>
                <SizeBasedTriggeringPolicy size="100 MB"/>
            </Policies>
            <DefaultRolloverStrategy max="10"/>
        </RollingMemoryMappedFile>
        <RollingMemoryMappedFile name="SISAPI" fileName="STDOUTsis-api.log" filePattern="STDOUTsis-api.log.%i" immediateFlush="false">
            <PatternLayout pattern="%d{dd.MM.yyyy HH:mm:ss,SSS} %-5p [%c{1} %t] %m%n"/>
            <Policies>
                <OnStartupTriggeringPolicy/>
                <SizeBasedTriggeringPolicy size="100 MB"/>
            </Policies>
            <DefaultRolloverStrategy max="10"/>
        </RollingMemoryMappedFile>
        <RollingMemoryMappedFile name="GameServletController" fileName="STDOUTgame-controller.log" filePattern="STDOUTgame-controller.log.%i" immediateFlush="false">
            <PatternLayout pattern="%d{dd.MM.yyyy HH:mm:ss,SSS} %-5p [%c{1} %t] %m%n"/>
            <Policies>
                <OnStartupTriggeringPolicy/>
                <SizeBasedTriggeringPolicy size="100 MB"/>
            </Policies>
            <DefaultRolloverStrategy max="10"/>
        </RollingMemoryMappedFile>
        <Dynamic name="GAME_REAL">
            <Routes pattern="$${ctx:gameName}">
                <Route>
                    <RollingMemoryMappedFile name="GAME_REAL-${ctx:gameName}"
                                             fileName="STDOUTgames/${ctx:gameName}.log"
                                             filePattern="STDOUTgames/${ctx:gameName}.log.%i" immediateFlush="false"
                                             regionLength="8388608">
                        <PatternLayout pattern="%d{dd.MM.yyyy HH:mm:ss,SSS} %-5p [%c{1} %t] %m%n"/>
                        <Policies>
                            <SizeBasedTriggeringPolicy size="50 MB"/>
                        </Policies>
                        <DefaultRolloverStrategy max="10"/>
                    </RollingMemoryMappedFile>
                </Route>
            </Routes>
        </Dynamic>
        <Dynamic name="GAME_FREE">
            <Routes pattern="$${ctx:gameName}">
                <Route>
                    <RollingMemoryMappedFile name="GAME_FREE-${ctx:gameName}"
                                             fileName="STDOUTgames/${ctx:gameName}_free.log"
                                             filePattern="STDOUTgames/${ctx:gameName}_free.log.%i" immediateFlush="false"
                                             regionLength="4194304">
                        <PatternLayout pattern="%d{dd.MM.yyyy HH:mm:ss,SSS} %-5p [%c{1} %t] %m%n"/>
                        <Policies>
                            <SizeBasedTriggeringPolicy size="100 MB"/>
                        </Policies>
                        <DefaultRolloverStrategy max="0"/>
                    </RollingMemoryMappedFile>
                </Route>
            </Routes>
        </Dynamic>
    </Appenders>
    <Loggers>
        <Root level="error" additivity="false">
            <AppenderRef ref="ERROR"/>
        </Root>
        <Logger name="com.dgphoenix.casino" level="DEBUG" additivity="false">
            <AppenderRef ref="COMMON" level="DEBUG" />
            <AppenderRef ref="ERROR" level="error" />
        </Logger>
        <Logger name="com.dgphoenix.casino.alert.dispatcher.AlertDispatcher" level="fatal" additivity="false">
            <AppenderRef ref="COMMON" />
        </Logger>

        <Logger name="GAME_REAL" level="DEBUG" additivity="false">
            <AppenderRef ref="GAME_REAL" level="DEBUG" />
            <AppenderRef ref="ERROR" level="error" />
        </Logger>

        <Logger name="GAME_FREE" level="DEBUG" additivity="false">
            <AppenderRef ref="GAME_FREE" level="DEBUG" />
            <AppenderRef ref="ERROR" level="error" />
        </Logger>

        <!-- SIS START-->
        <Logger name="com.dgphoenix.casino.slotsstories" level="DEBUG" additivity="false">
            <AppenderRef ref="SIS" level="DEBUG" />
            <AppenderRef ref="ERROR" level="error" />
        </Logger>
        <Logger name="com.dgphoenix.casino.common.cache.data.slotsstories" level="DEBUG" additivity="false">
            <AppenderRef ref="SIS" level="DEBUG" />
            <AppenderRef ref="ERROR" level="error" />
        </Logger>
        <Logger name="com.dgphoenix.casino.cassandra.persist.slotsstories" level="DEBUG" additivity="false">
            <AppenderRef ref="SIS" level="DEBUG" />
            <AppenderRef ref="ERROR" level="error" />
        </Logger>
        <Logger name="com.dgphoenix.casino.slotsstories.clientapi" level="DEBUG" additivity="false">
            <AppenderRef ref="SISAPI" level="DEBUG" />
            <AppenderRef ref="ERROR" level="error" />
        </Logger>
        <!-- SIS END-->
    </Loggers>
</Configuration>