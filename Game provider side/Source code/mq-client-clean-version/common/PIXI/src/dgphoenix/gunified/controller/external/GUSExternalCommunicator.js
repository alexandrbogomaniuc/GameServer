import EventDispatcher from '../../../unified/controller/events/EventDispatcher';
import APPParamsInfo from '../../../unified/model/custom/APPParamsInfo';
import { APP } from '../../../unified/controller/main/globals';

const GAME_MESSAGES =
{
	PRELOADER_READY: 							"onGamePreloaderReady",
	GAME_LOADING_ERROR:							"onGameAssetsLoadingError",
	GAME_LOADING_COMPLETED:						"onGameAssetsLoadingCompleted",
	GAME_START_CLICKED:							"onGameStartClickedAfterAssetsLoadingCompleted",
	APPLICATION_READY: 							"onGameApplicationReady",
	BACK_TO_LOBBY: 								"onBackToLobby",
	GAME_STARTED: 								"onGameStarted",
	GAME_SOUND_BUTTON_CLICKED: 					"onGameSoundButtonClicked",
	GAME_ROUND_STATE_CHANGED: 					"onGameRoundStateChanged",
	PLAYER_INFO_UPDATED: 						"onPlayerInfoUpdated",
	LEVEL_UP: 									"onLevelUp",
	GAME_ROUND_RESULT_LEVEL_UP: 				"onRoundResultLevelUp",
	REFRESH_COMMON_PANEL_REQUIRED:				"onRefreshCommonPanelRequired",
	SERVER_CONNECTION_OPENED: 					"onGameServerConnectionOpened",
	SERVER_CONNECTION_CLOSED: 					"onGameServerConnectionClosed",
	SERVER_ERROR_MESSAGE_RECIEVED: 				"onGameServerErrorMessageRecieved",
	SERVER_BALANCE_UPDATED_MESSAGE_RECIEVED: 	"onGameServerBalanceUpdatedMessageRecieved",
	RESTORED_AFTER_UNREASONABLE_REQUEST: 		"onGameRestoredAfterUnreasonableRequest",
	RESTORE_AFTER_UNREASONABLE_REQUEST_CANCELED:"onGameRestoreAfterUnreasonableRequestCanceled",
	ON_FRB_ENDED_RESPONSE: 						"onFRBEndedResponse",
	ON_SIT_IN_RESPONSE: 						"onSitInResponse",
	ON_SIT_OUT_REQUIRED: 						"onSitOutRequired",
	EVENT_ON_BUY_SCREENS_STATE_CHANGED: 		"onBuyScreensStateChanged",
	NOT_ENOUGH_MONEY_DIALOG_REQUIRED: 			"onNotEnoughMoneyDialogRequired",
	SW_PURCHASE_LIMIT_EXCEEDED_DIALOG_REQUIRED:	"onSWPurchaseLimitExceededDialogRequired",
	GAME_RECOVERY_ON_CONNECTION_LOST_STARTED: 	"GAME_RECOVERY_ON_CONNECTION_LOST_STARTED",
	WEAPONS_UPDATED:							"onWeaponsUpdated",
	WEAPONS_INTERACTION_CHANGED:				"onWeaponsInteractionChanged",
	WEAPON_SELECTED:							"onWeaponSelected",
	GAME_POINTER_DOWN:							"onGamePointerDown",
	QUEST_STARTED:								"QUEST_STARTED",
	QUEST_UPDATED:								"QUEST_UPDATED",
	QUEST_REMOVED:								"QUEST_REMOVED",
	QUEST_COMPLETED:							"QUEST_COMPLETED",
	TOOLTIP_STATE_CHANGE:						"onToolTipStateChange",
	SHINE_TOOLTIP_BUTTON:						"onShineTooltipButton",
	CONTEXT_MENU: 								"onContextMenu",
	ROOM_CLOSED: 								"onRoomClosed",
	CHECK_LOBBY_CONNECTION:						"onCheckLobbyConection",
	GAME_SCRIPT_LOAD_ERROR:						"onScriptLoadError",
	EVENT_ON_FORCE_SIT_OUT_REQUIRED:			"onForceSitOut",
	FIRE_SETTINGS_STATE_CHANGED:				"onFireSettingsStateChanged",
	BUY_WEAPONS_ANIMATION_SOUND_STATE_CHANGE:	"buyWeaponsAnimationSoundStateChange",
	MID_ROUND_SW_RETURNED:						"onMidRoundSWReturned",
	MID_ROUND_COMPENSATE_SW_REQUIRED:			"onMidRoundCompensateSWRequired",
	ROUND_RESULT_RETURN_SW_RESPONSE:			"onRoundResultReturnSWResponse",
	ROUND_RESULT_RETURN_SW_DIALOG_SHOW_VALIDATE:"onRoundResultReturnSWDialogShowValidate",
	KEYBOARD_BUTTON_CLICKED:					"onKeyboardButtonClicked",
	PICKS_UP_SPECIAL_WEAPONS_FIRST_TIME_REQUIRED:"onPicksUpSpecialWeaponsFirstTimeRequired",
	MID_ROUND_EXIT_REQUIRED: 					"onMidRoundExitRequired",
	KEYS_ACTUAL_DATA_REQUIRED:					"onQuestsActualDataRquired",
	SW_BONUS_SHOTS_PROGRESS_STATE_CHANGED: 		"SW_BONUS_SHOTS_PROGRESS_STATE_CHANGED",
	BUY_WEAPON_SCREEN_ACTIVE_STATE_CHANGED: 	"BUY_WEAPON_SCREEN_ACTIVE_STATE_CHANGED",
	ON_BUY_AMMO_RETRY_DIALOG_APPEAR_REQUIRED: 	"ON_BUY_AMMO_RETRY_DIALOG_APPEAR_REQUIRED",
	ON_BUY_AMMO_RETRY_DIALOG_DISAPPEAR_REQUIRED:"ON_BUY_AMMO_RETRY_DIALOG_DISAPPEAR_REQUIRED",
	BOSS_GEMS_PAYOUTS_REQUEST:					"BOSS_GEMS_PAYOUTS_REQUEST",
	ROUND_RESULT_ACTIVATED:						"ROUND_RESULT_ACTIVATED",
	WEBGL_CONTEXT_LOST:							"WEBGL_CONTEXT_LOST",
	RUNTIME_ERROR: 								"RUNTIME_ERROR",
	EVENT_ON_BONUS_STATUS_CHANGED_RESPONSE: 	"EVENT_ON_BONUS_STATUS_CHANGED_RESPONSE",
	TOURNAMENT_STATE_CHANGED:					"TOURNAMENT_STATE_CHANGED",
	GAME_BONUS_COMPLETION_STARTED: 				"GAME_BONUS_COMPLETION_STARTED",
	BUY_IN_RESPONSE_RECIEVED:					"BUY_IN_RESPONSE_RECIEVED",
	RE_BUY_RESPONSE_RECIEVED: 					"RE_BUY_RESPONSE_RECIEVED",
	TOURNAMENT_REBUY_COUNT_UPDATED:				"TOURNAMENT_REBUY_COUNT_UPDATED",
	FRB_SHOTS_UPDATE_REQUIRED:					"FRB_SHOTS_UPDATE_REQUIRED",
	WIN_SHOT_RECEIVED:							"WIN_SHOT_RECEIVED",
	ROUND_RESULT_SCREEN_DEACTIVATED:			"onRoundResultScreenDeactivated",
	SHOW_FREE_SHOT:								"SHOW_FREE_SHOT",
	UPDATE_FREE_SHOT:							"UPDATE_FREE_SHOT",
	REMOVE_FREE_SHOT:							"REMOVE_FREE_SHOT",
	LOBBY_KEYS_PANEL_UPDATE_REQUIRED:			'LOBBY_KEYS_PANEL_UPDATE_REQUIRED',
	ON_SIT_IN_REQUIRED:							'ON_SIT_IN_REQUIRED',
	GAME_IN_PROGRESS:							'GAME_IN_PROGRESS',
	BATTLEGROUND_PLAY_AGAIN_REQUEST:			'BATTLEGROUND_PLAY_AGAIN_REQUEST',
	BATTLEGROUND_TIME_TO_START_UPDATED:			'BATTLEGROUND_TIME_TO_START_UPDATED',
	BATTLEGROUND_ROUND_CANCELED: 				'BATTLEGROUND_ROUND_CANCELED',
	BATTLEGROUND_GAME_URL_NEED_UPDATED_ON_PLAY_AGAIN:			'BATTLEGROUND_GAME_URL_NEED_UPDATED_ON_PLAY_AGAIN',
	BATTLEGROUND_NO_WEAPONS_FIRED_DIALOG_REQUIRED: 'BATTLEGROUND_NO_WEAPONS_FIRED_DIALOG_REQUIRED',
	NEED_UPDATE_BATTLEGROUND_MODE_INFO_ON_GAME_LEVEL: 'NEED_UPDATE_BATTLEGROUND_MODE_INFO_ON_GAME_LEVEL',
	BATTLEGROUND_FINAL_COUNTING_STARTED: 		"BATTLEGROUND_FINAL_COUNTING_STARTED",
	BATTLEGROUND_BACK_TO_MQB_LOBBY:				"BATTLEGROUND_BACK_TO_MQB_LOBBY",
	TIME_TO_SHOW_TUTORIAL: 						"SHOW_TUTORIAL",
	BATTLEGROUND_BUY_IN_REOPENING_REQUIRED: 	"BATTLEGROUND_BUY_IN_REOPENING_REQUIRED",
	BATTLEGROUND_COUNTDOWN_ACTIVATED: 			"BATTLEGROUND_COUNTDOWN_ACTIVATED",
	BATTLEGROUND_COUNTDOWN_DEACTIVATED: 		"BATTLEGROUND_COUNTDOWN_DEACTIVATED",
	BATTLEGROUND_TIME_SYNC:						'BATTLEGROUND_TIME_SYNC',
	ON_PENDING_OPERATION_FAILED_DIALOG_REQUIRED:	'PENDING_OPERATION_FAILED_DIALOG_REQUIRED',
	BATTLEGROUND_TUTORIAL_STATE_CHANGED: 			'BATTLEGROUND_TUTORIAL_STATE_CHANGED',
	ON_SIT_OUT_RESPONSE: 						"ON_SIT_OUT_RESPONSE",
	ON_GAME_STATE_CHANGED: 						"ON_GAME_STATE_CHANGED",
	ROOM_NO_EMPTY_PLACE_TO_SEAT: 				"ROOM_NO_EMPTY_PLACE_TO_SEAT",
	ON_PLEASE_WAIT_DIALOG_APPEAR_REQUIRED:		"ON_PLEASE_WAIT_DIALOG_APPEAR_REQUIRED",
	ON_PLEASE_WAIT_DIALOG_DISAPPEAR_REQUIRED:	"ON_PLEASE_WAIT_DIALOG_DISAPPEAR_REQUIRED",
	PENDING_OPERATION_STATUS_UPDATED:			"PENDING_OPERATION_STATUS_UPDATED",
	PENDING_OPERATION_TRACKING_STATUS_UPDATED: 	"PENDING_OPERATION_TRACKING_STATUS_UPDATED",
	BATTLEGROUND_BUY_IN_STATE_CHANGED: 			"BATTLEGROUND_BUY_IN_STATE_CHANGED",
	BATTLEGROUND_CAF_DEACTIVATED_ROOM_DELAYED_ERROR_TIME: "BATTLEGROUND_CAF_DEACTIVATED_ROOM_DELAYED_ERROR_TIME",
	IS_SHOW_SCREEN: 							"IS_SHOW_SCREEN",
	FINAL_COUNTDOWN_STARTED:					"FINAL_COUNTDOWN_STARTED",
	FINAL_COUNTDOWN_COMPLETED:					"FINAL_COUNTDOWN_COMPLETED",
	FULL_GAME_INFO_UPDATED:						"FULL_GAME_INFO_UPDATED",
	OBSERVER_MODE_ACTIVATED:					"OBSERVER_MODE_ACTIVATED",
	DO_NOT_COUNT_START_GAME_RECONNECTION_ATTEMPT:		"DO_NOT_COUNT_START_GAME_RECONNECTION_ATTEMPT"

}

const LOBBY_MESSAGES =
{
	BACK_TO_GAME: 						"onBackToGame",
	SOUND_SETTINGS_CHANGED: 			"onSoundSettingsChanged",
	PLAYER_INFO_UPDATED: 				"onPlayerInfoUpdated",
	AVATAR_UPDATED: 					"onAvatarUpdated",
	NOTIFICATION_ACTIVATED: 			"onNotificationActivated",
	NOTIFICATION_DEACTIVATED: 			"onNotificationDeactivated",
	SECONDARY_SCREEN_DEACTIVATED: 		"onSecondaryScreenDeactivated",
	SECONDARY_SCREEN_ACTIVATED: 		"onSecondaryScreenActivated",
	EXTERNAL_ASSETS_UPDATED: 			"onExternalAssetsUpdated",
	GAME_URL_UPDATED: 					"onGameUrlUpdated",
	SERVER_ERROR_MESSAGE_RECIEVED: 		"onLobbyServerErrorMessageRecieved",
	GAME_REFRESH_BALANCE_REQUIRED: 		"onRefreshBalanceRequiredMessageRecieved",
	FRB_RESTART_REQUIRED:				"onFRBRestartRequired",
	BUY_WEAPON_SCREEN_REQUIRED:			"onBuyWeaponScreenRequired",
	BACK_TO_LOBBY:						"onBackToLobby",
	DIALOG_ACTIVATED:  					"onDialogActivated",
	DIALOG_DEACTIVATED: 				"onDialogDeactivated",
	WEAPON_SELECTED:					"onWeaponSelected",
	FIRE_SETTINGS_CLICKED:				"onFireSettingsClicked",
	CONTEXT_MENU: 						"onContextMenu",
	LOBBY_CONNECTION_STATE:				"onLobbyConnectionState",
	LOBBY_VISIBILITY_CHANGED:			"onLobbyVisibilityChanged",
	FORCE_SIT_OUT_EXIT_CONFIRMED:		"onForceSitOutExitConfirmed",
	CHOOSE_WEAPON_SCREEN_CHANGED:		"onChooseWeaponScreenChanged",
	LOBBY_LOADING_ERROR: 				"onLobbyLoadingError",
	BACKGROUND_FADE_START:				"onLobbyBackgroundFadeStart",
	MID_ROUND_SW_RETURNED_CONFIRMED: 	"onMidRoundSWReturnedConfirmed",
	MID_ROUND_COMPENSATE_SW_EXIT_CONFIRMED: "onMidRoundCompensateSWExitConfirmed",
	PROFILES_VALUES_INITIALIZATION: 	"onProfilesValuesInitialization",
	KEYBOARD_BUTTON_CLICKED:			"onKeyboardButtonClicked",
	DEBUG_MESSAGE:  					"onDebugMessage",
	MID_ROUND_EXIT_CONFIRMED: 			"onMidRoundExitConfirmed",
	KEYS_ACTUAL_DATA:					"onQuestsActualData",
	WEAPON_PURCHASE_FAILED_RETRY_CONFIRMED: "WEAPON_PURCHASE_FAILED_RETRY_CONFIRMED",
	BUY_AMMO_FAILED_RETRY_CONFIRMED: 		"BUY_AMMO_FAILED_RETRY_CONFIRMED",
	BUY_AMMO_FAILED_EXIT_ROOM_REQUESTED: 	"BUY_AMMO_FAILED_EXIT_ROOM_REQUESTED",
	BOSS_GEMS_PAYOUTS_RESPONSE:				"BOSS_GEMS_PAYOUTS_RESPONSE",
	WEBGL_STATE_INFO: 					"WEBGL_STATE_INFO",
	GAME_SETTINGS_INITIALIZATION: 		"GAME_SETTINGS_INITIALIZATION",
	MID_ROUND_EXIT_DIALOG_ACTIVATED: 		"MID_ROUND_EXIT_DIALOG_ACTIVATED",
	MID_ROUND_EXIT_DIALOG_DEACTIVATED: 		"MID_ROUND_EXIT_DIALOG_DEACTIVATED",
	WEBGL_CONTEXT_LOST:					"WEBGL_CONTEXT_LOST",
	BONUS_RESTART_REQUIRED: 			"BONUS_RESTART_REQUIRED", //when OK button clicked on Bonus Dialog Cancelled/Expired/Lost/Released
	TOURNAMENT_STATE_CHANGED:			"TOURNAMENT_STATE_CHANGED",
	TOURNAMENT_REBUY_CONFIRMED: 		"TOURNAMENT_REBUY_CONFIRMED",
	TOURNAMENT_COMEPLETED_WITH_NO_REBUYS: "TOURNAMENT_COMEPLETED_WITH_NO_REBUYS",
	ENTER_LOBBY_MESSAGE_RECEIVED: 		"ENTER_LOBBY_MESSAGE_RECEIVED",
	GAME_NEM_FOR_ROOM_REQUEST_CONFIRMED: "GAME_NEM_FOR_ROOM_REQUEST_CONFIRMED",
	FRB_SHOTS_UPDATED:					"FRB_SHOTS_UPDATED",
	BONUS_CANCELED_DURING_LOAD:			"BONUS_CANCELED_DURING_LOAD",
	BONUS_CANCEL_ROOM_RELOAD:			"BONUS_CANCEL_ROOM_RELOAD",
	BONUS_DIALOG_DEACTIVATED:			"BONUS_DIALOG_DEACTIVATED",
	BONUS_DIALOG_ACTIVATED:				"BONUS_DIALOG_ACTIVATED",
	FRB_DIALOG_DEACTIVATED:				"FRB_DIALOG_DEACTIVATED",
	FRB_DIALOG_ACTIVATED:				"FRB_DIALOG_ACTIVATED",
	SW_PURCHASE_LIMIT_EXCEEDED_DIALOG_DEACTIVATED: "SW_PURCHASE_LIMIT_EXCEEDED_DIALOG_DEACTIVATED",
	BATTLEGROUND_PLAY_AGAIN_CONFIRMED:			"BATTLEGROUND_PLAY_AGAIN_CONFIRMED",
	UPDATE_BATTLEGROUND_MODE:			"UPDATE_BATTLEGROUND_MODE",
	BATTLEGROUND_NEED_RETRY_REBUY: 					'BATTLEGROUND_NEED_RETRY_REBUY',
	BATTLEGROUND_PLAY_AGAIN_BUTTON_CLICKED: 'BATTLEGROUND_PLAY_AGAIN_BUTTON_CLICKED',
	BATTLEGROUND_CHANGE_WORLD_BUTTON_CLICKED: 'BATTLEGROUND_CHANGE_WORLD_BUTTON_CLICKED',
	BATTLEGROUND_RE_BUY_CONFIRMED: 				'BATTLEGROUND_RE_BUY_CONFIRMED',
	BATTLEGROUND_CONTINUE_WAITING: 				'BATTLEGROUND_CONTINUE_WAITING',
	BATTLEGROUND_NEED_UPDATE_TIME_TO_START: 	'BATTLEGROUND_NEED_UPDATE_TIME_TO_START',
	BATTLEGROUND_COUNTDOWN_HIDE: 				'BATTLEGROUND_COUNTDOWN_HIDE',
	BATTLEGROUND_COUNTDOWN_SHOW: 				'BATTLEGROUND_COUNTDOWN_SHOW',
	BATTLEGROUND_CONTINUE_READING_INFO_CLICKED: 'BATTLEGROUND_CONTINUE_READING_INFO_CLICKED',
	PENDING_OPERATION_FAILED_RETRY_CONFIRMED: 'PENDING_OPERATION_FAILED_RETRY_CONFIRMED',
	BATTLEGROUND_MANAGER_START_ROUND_CLICKED: 	"BATTLEGROUND_MANAGER_START_ROUND_CLICKED",
	BATTLEGROUND_CANCEL_READY_CLICKED: 			"BATTLEGROUND_CANCEL_READY_CLICKED",
	BATTLEGROUND_CAF_PLAYER_KICK_TRIGGERED: 	"BATTLEGROUND_CAF_PLAYER_KICK_TRIGGERED",
	BATTLEGROUND_CAF_PLAYER_REINVITE_TRIGGERED: "BATTLEGROUND_CAF_PLAYER_REINVITE_TRIGGERED",
	PENDING_OPERATION_STATUS_UPDATED:			"PENDING_OPERATION_STATUS_UPDATED",
	PENDING_OPERATION_TRACKING_STATUS_UPDATED: 	"PENDING_OPERATION_TRACKING_STATUS_UPDATED",
	BATTLEGROUND_CAF_PLAYER_INVITE_TRIGGERED: "BATTLEGROUND_CAF_PLAYER_INVITE_TRIGGERED",
	UPDATE_BATTLEGROUND_END_TIME:				"UPDATE_BATTLEGROUND_END_TIME",
	END_OF_GAME_REFUND:							"END_OF_GAME_REFUND"
}

const MESSAGE_TARGET_WINDOW_RECEIVED = "MESSAGE_TARGET_WINDOW_RECEIVED";

class GUSExternalCommunicator extends EventDispatcher
{
	constructor()
	{
		super();

		this._targetWindows = [];
	}

	subscribeMessagesReceive()
	{
		window.addEventListener("message", this.onExternalMessageReceived.bind(this), false);
	}

	unsubscribeMessagesReceive()
	{
		window.removeEventListener("message", this.onExternalMessageReceived.bind(this), false);
	}

	addTargetWindow(targetWindow)
	{
		this._targetWindows.push(targetWindow);
		this.sendExternalMessage(MESSAGE_TARGET_WINDOW_RECEIVED);
	}

	removeTargetWindow(targetWindow)
	{
		let targetIndex = this._targetWindows.indexOf(targetWindow);

		if (targetIndex < 0)
		{
			return;
		}

		this._targetWindows.splice(targetIndex, 1);
	}

	sendExternalMessage(msg, data=undefined)
	{
		let extWindow;
		for (let i=0; i<this._targetWindows.length; i++)
		{
			extWindow = this._targetWindows[i];
			extWindow.postMessage(JSON.stringify({type: msg, data: data}), '*');
		}
	}

	onExternalMessageReceived(event)
	{
		let receivedMsgData = event.data;
		if (typeof event.data === 'string')
		{
			receivedMsgData = JSON.parse(event.data);
		}

		let msgType = receivedMsgData.type;
		let msgData = receivedMsgData.data;

		this.handleMessage(msgType, msgData);
	}

	handleMessage(type, data)
	{
		switch(type)
		{
			//TRANSFERING DEBUG URL PARAMETERS...
			case MESSAGE_TARGET_WINDOW_RECEIVED:
			{
				let lURLParams_obj = APP.urlBasedParams;

				this.sendExternalMessage(APPParamsInfo.PARAM_GAME_ID, APP.appParamsInfo.gameId);
				this.sendExternalMessage(APPParamsInfo.PARAM_IS_BATTLEGROUND_GAME, APP.appParamsInfo.isBattlegroundGame);
				this.sendExternalMessage(APPParamsInfo.PARAM_MQ_RESTRICT_COIN_FRACTION_LENGTH, APP.appParamsInfo.restrictCoinFractionLength);
				this.sendExternalMessage(APPParamsInfo.PARAM_PRIVATE_ROOM_ID, APP.appParamsInfo.privateRoomId);
				this.sendExternalMessage(APPParamsInfo.PARAM_TEST_SYSTEM, APP.appParamsInfo.testSystem);
				this.sendExternalMessage(APPParamsInfo.DEBUG_PARAM_TRACK_STUBS, APP.appParamsInfo.isStubsTrackingRequired);
				this.sendExternalMessage(APPParamsInfo.DEBUG_PARAM_FPS_RAM, APP.appParamsInfo.isFPSRAMDisplayRequired);
				this.sendExternalMessage(APPParamsInfo.PARAM_CLIENT_LOG_LEVEL, APP.appParamsInfo.clientLogLevel);
				this.sendExternalMessage(APPParamsInfo.PARAM_BANK_ID, lURLParams_obj.BANKID);
				this.sendExternalMessage(APPParamsInfo.PARAM_MODE, lURLParams_obj.MODE);
				this.sendExternalMessage(APPParamsInfo.PARAM_SERVER_ID, lURLParams_obj.GAMESERVERID);
				this.sendExternalMessage(APPParamsInfo.PARAM_LOBBY_WEB_SOCKET, APP.appParamsInfo.lobbyWebSocket || lURLParams_obj.WEB_SOCKET_URL);
			}
			break;
			case APPParamsInfo.PARAM_GAME_ID:
			{
				APP.appParamsInfo.gameId = data;
			}
			case APPParamsInfo.PARAM_IS_BATTLEGROUND_GAME:
			{
				APP.appParamsInfo.isBattlegroundGame = data;
			}
			break;
			case APPParamsInfo.PARAM_PRIVATE_ROOM_ID:
			{
				APP.appParamsInfo.privateRoomId = data;
			}
			break;
			case APPParamsInfo.PARAM_TEST_SYSTEM:
			{
				APP.appParamsInfo.testSystem = data;
			}
			break;
			case APPParamsInfo.DEBUG_PARAM_TRACK_STUBS:
			{
				if(data === true)
				{
					APP.webSocketInteractionController.setStubsTrackingMode();
					APP.appParamsInfo.isStubsTrackingRequired = data;
				}
			}
			break;
			case APPParamsInfo.DEBUG_PARAM_FPS_RAM:
			{
				APP.appParamsInfo.isFPSRAMDisplayRequired = data;
			}
			break;
			case APPParamsInfo.PARAM_CLIENT_LOG_LEVEL:
				APP.appParamsInfo.clientLogLevel = data;
				APP.logger.i_setNewLoggingLevel(data);
				break;
			case APPParamsInfo.PARAM_BANK_ID:
				APP.appParamsInfo.bankId = data;
				break;
			case APPParamsInfo.PARAM_MODE:
				APP.appParamsInfo.mode = data;
				break;
			case APPParamsInfo.PARAM_SERVER_ID:
				APP.appParamsInfo.serverId = data;
				break;
			case APPParamsInfo.PARAM_LOBBY_WEB_SOCKET:
				APP.appParamsInfo.lobbyWebSocket = decodeURIComponent(data);
				break;
			case APPParamsInfo.PARAM_MQ_RESTRICT_COIN_FRACTION_LENGTH:
				APP.appParamsInfo.restrictCoinFractionLength = data;
			//...TRANSFERING DEBUG URL PARAMETERS
		}
	}

	__isMessageTypeSuppotred(type)
	{
		return type === MESSAGE_TARGET_WINDOW_RECEIVED
				|| type === APPParamsInfo.PARAM_GAME_ID
				|| type === APPParamsInfo.PARAM_IS_BATTLEGROUND_GAME
				|| type === APPParamsInfo.PARAM_PRIVATE_ROOM_ID
				|| type === APPParamsInfo.PARAM_TEST_SYSTEM
				|| type === APPParamsInfo.DEBUG_PARAM_TRACK_STUBS
				|| type === APPParamsInfo.DEBUG_PARAM_FPS_RAM
				|| type === APPParamsInfo.PARAM_CLIENT_LOG_LEVEL
				|| type === APPParamsInfo.PARAM_BANK_ID
				|| type === APPParamsInfo.PARAM_MODE
				|| type === APPParamsInfo.PARAM_SERVER_ID
				|| type === APPParamsInfo.PARAM_LOBBY_WEB_SOCKET
				|| type === APPParamsInfo.PARAM_MQ_RESTRICT_COIN_FRACTION_LENGTH;
	}
}

export { GAME_MESSAGES, LOBBY_MESSAGES };
export default GUSExternalCommunicator;